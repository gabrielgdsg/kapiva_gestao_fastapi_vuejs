{"remainingRequest":"C:\\Users\\Gabriel\\PycharmProjects\\kapiva_gestao_fastapi_vuejs\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Gabriel\\PycharmProjects\\kapiva_gestao_fastapi_vuejs\\frontend\\src\\views\\GoogleImageTestView.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Gabriel\\PycharmProjects\\kapiva_gestao_fastapi_vuejs\\frontend\\src\\views\\GoogleImageTestView.vue","mtime":1628779754751},{"path":"C:\\Users\\Gabriel\\PycharmProjects\\kapiva_gestao_fastapi_vuejs\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Gabriel\\PycharmProjects\\kapiva_gestao_fastapi_vuejs\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Gabriel\\PycharmProjects\\kapiva_gestao_fastapi_vuejs\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Gabriel\\PycharmProjects\\kapiva_gestao_fastapi_vuejs\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKCgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAiR29vZ2xlSW1hZ2VUZXN0VmlldyIsCiAgICBkYXRhOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgbWFyY2E6ICJuaWtlIiwKICAgICAgICAgICAgcmVmOiAiNjQ2NDMzIiwKICAgICAgICAgICAgY29yOiAiYnJhbmNvIiwKICAgICAgICAgICAgcmVzcG9uc2VfdGVzdDogJycsCiAgICAgICAgICAgIGltYWdlOiAnJywKICAgICAgICAgICAgaW1hZ2VfdXJsOiAnJwogICAgICAgICAgICAvLyBpbWFnZV91cmw6ICdodHRwczovL2NkbnYyLm1vb3Zpbi5jb20uYnIvYXdhbGxvbi9pbWFnZW5zL3Byb2R1dG9zL29yaWdpbmFsL3RlbmlzLWluZG9vci1uaWtlLWJlY28tMi02NDY0MzMtMDA2LXByZXRvY2luemEtZDA4ODA1YTRlYjg1ZTUwYTQwOTJjZDQ0NzQyODRhOTUuanBnJwogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgZmV0Y2hQcm9kcygpIHsKICAgICAgICAgICAgLy8gY29uc3QgcXVlcnkgID0gJycKICAgICAgICAgICAgY29uc3QgcGF0aCA9IGAvYXBpL2ZldGNoL3Byb2R1dG9zL2AKICAgICAgICAgICAgLy8gY29uc3QgcGF0aCA9IGAvYXBpL3Rlc3RlY29zaWEvJHtxdWVyeX1gCiAgICAgICAgICAgIGF4aW9zLmdldChwYXRoKQogICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcykKICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmltYWdlID0gcmVzLmRhdGEKICAgICAgICAgICAgICAgICAgICB0aGlzLmltYWdlID0gImRhdGE6aW1hZ2UvanBnO2Jhc2U2NCwiICsgcmVzLmRhdGEuaW1nCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpCiAgICAgICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgYXN5bmMgZ29vZ2xlU2VhcmNoKCkgewogICAgICAgICAgICBjb25zdCBiYXNlX3BhdGggPSBgaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vY3VzdG9tc2VhcmNoL3YxP2tleT1BSXphU3lBeGtsanRXd092Qmt5VmdhQ2dRUVlSMmJnRk1VZHpyUXMmY3g9ZjVjNmJmMmNlMTk2ODJiYjgmJnNlYXJjaFR5cGU9aW1hZ2UmJm51bT0xJnE9YAoKICAgICAgICAgICAgY29uc3QgcXVlcnkgPSB0aGlzLm1hcmNhICsgJysnICsgdGhpcy5yZWYgKyAnKycgKyB0aGlzLmNvcgogICAgICAgICAgICBjb25zdCBwYXRoID0gYmFzZV9wYXRoICsgcXVlcnkKCiAgICAgICAgICAgIHRoaXMuaW1hZ2VfdXJsID0gYXdhaXQgYXhpb3MuZ2V0KHBhdGgpCiAgICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSkKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YS5pdGVtcy5tYXAoKGl0ZW0pID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0ubGluawogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcikKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC8vIGNvbnN0IGltYWdlc1VybCA9ICdodHRwczovL2NkbnYyLm1vb3Zpbi5jb20uYnIvYXdhbGxvbi9pbWFnZW5zL3Byb2R1dG9zL29yaWdpbmFsL3RlbmlzLWluZG9vci1uaWtlLWJlY28tMi02NDY0MzMtMDA2LXByZXRvY2luemEtZDA4ODA1YTRlYjg1ZTUwYTQwOTJjZDQ0NzQyODRhOTUuanBnJwogICAgICAgICAgICAvLyB0aGlzLmltYWdlX3VybCA9IGltYWdlc1VybAogICAgICAgICAgICBjb25zdCBhcGlfcGF0aCA9IGAvYXBpL3Byb2R1dG9zL2ltYWdlcy9gCgogICAgICAgICAgICBjb25zdCBwcm9kdXRvID0ge25vbV9tYXJjYTp0aGlzLm1hcmNhLCBjb2RfcmVmZXJlbmNpYTp0aGlzLnJlZiwgZGVzX2Nvcjp0aGlzLmNvciwgaW1nOnRoaXMuaW1hZ2VfdXJsWzBdfQogICAgICAgICAgICBjb25zb2xlLmxvZyhwcm9kdXRvKQogICAgICAgICAgICBheGlvcy5wdXQoYXBpX3BhdGgsIHByb2R1dG8pCiAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2F4aW9zLnB1dCcpCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcikKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIHJldHVybiB0aGlzLmltYWdlX3VybAogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["GoogleImageTestView.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"GoogleImageTestView.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div>\r\n        googleimagetestview\r\n        <b-form @submit.stop.prevent=\"googleSearch\">\r\n            <b-button type=\"submit\" variant=\"primary\">Google Search</b-button>\r\n        </b-form>\r\n        <b/>\r\n        fetch prods\r\n        <b-form @submit.stop.prevent=\"fetchProds\">\r\n            <b-button type=\"submit\" variant=\"primary\">Fetch Prods</b-button>\r\n        </b-form>\r\n\r\n        <b-form-input placeholder=\"Marca\" v-model=\"marca\"></b-form-input>\r\n        <div class=\"mt-2\">Value: {{ marca }}</div>\r\n        <b-form-input placeholder=\"ReferÃªncia\" v-model=\"ref\"></b-form-input>\r\n        <div class=\"mt-2\">Value: {{ ref }}</div>\r\n        <b-form-input placeholder=\"Cor\" v-model=\"cor\"></b-form-input>\r\n        <div class=\"mt-2\">Value: {{ cor }}</div>\r\n\r\n        <!--        <img :src=\"this.image\"/>-->\r\n        <img :src=\"image_url\"/>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import axios from 'axios'\r\n\r\n\r\n    export default {\r\n        name: \"GoogleImageTestView\",\r\n        data: function () {\r\n            return {\r\n                marca: \"nike\",\r\n                ref: \"646433\",\r\n                cor: \"branco\",\r\n                response_test: '',\r\n                image: '',\r\n                image_url: ''\r\n                // image_url: 'https://cdnv2.moovin.com.br/awallon/imagens/produtos/original/tenis-indoor-nike-beco-2-646433-006-pretocinza-d08805a4eb85e50a4092cd4474284a95.jpg'\r\n            }\r\n        },\r\n        methods: {\r\n            fetchProds() {\r\n                // const query  = ''\r\n                const path = `/api/fetch/produtos/`\r\n                // const path = `/api/testecosia/${query}`\r\n                axios.get(path)\r\n                    .then((res) => {\r\n                        console.log(res)\r\n                        // this.image = res.data\r\n                        this.image = \"data:image/jpg;base64,\" + res.data.img\r\n                    })\r\n                    .catch((error) => {\r\n                        // eslint-disable-next-line\r\n                        console.error(error)\r\n                    })\r\n            },\r\n            async googleSearch() {\r\n                const base_path = `https://www.googleapis.com/customsearch/v1?key=AIzaSyAxkljtWwOvBkyVgaCgQQYR2bgFMUdzrQs&cx=f5c6bf2ce19682bb8&&searchType=image&&num=1&q=`\r\n\r\n                const query = this.marca + '+' + this.ref + '+' + this.cor\r\n                const path = base_path + query\r\n\r\n                this.image_url = await axios.get(path)\r\n                    .then((response) => {\r\n                        console.log(response)\r\n                        return response.data.items.map((item) => {\r\n                            return item.link\r\n                        });\r\n                    })\r\n                    .catch((error) => {\r\n                        console.log(error)\r\n                    })\r\n                // const imagesUrl = 'https://cdnv2.moovin.com.br/awallon/imagens/produtos/original/tenis-indoor-nike-beco-2-646433-006-pretocinza-d08805a4eb85e50a4092cd4474284a95.jpg'\r\n                // this.image_url = imagesUrl\r\n                const api_path = `/api/produtos/images/`\r\n\r\n                const produto = {nom_marca:this.marca, cod_referencia:this.ref, des_cor:this.cor, img:this.image_url[0]}\r\n                console.log(produto)\r\n                axios.put(api_path, produto)\r\n                    .then((res) => {\r\n                        console.log('axios.put')\r\n                        console.log(res)\r\n                    })\r\n                    .catch((error) => {\r\n                        console.log(error)\r\n                    })\r\n                return this.image_url\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}