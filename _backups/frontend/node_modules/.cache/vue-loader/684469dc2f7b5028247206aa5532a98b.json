{"remainingRequest":"C:\\Users\\Gabriel\\PycharmProjects\\kapiva_gestao_fastapi_vuejs\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Gabriel\\PycharmProjects\\kapiva_gestao_fastapi_vuejs\\frontend\\src\\views\\Estoque.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Gabriel\\PycharmProjects\\kapiva_gestao_fastapi_vuejs\\frontend\\src\\views\\Estoque.vue","mtime":1685755624334},{"path":"C:\\Users\\Gabriel\\PycharmProjects\\kapiva_gestao_fastapi_vuejs\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Gabriel\\PycharmProjects\\kapiva_gestao_fastapi_vuejs\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Gabriel\\PycharmProjects\\kapiva_gestao_fastapi_vuejs\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Gabriel\\PycharmProjects\\kapiva_gestao_fastapi_vuejs\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7VnVlQXV0b3N1Z2dlc3R9IGZyb20gJ3Z1ZS1hdXRvc3VnZ2VzdCcKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IG1vbWVudCBmcm9tICJtb21lbnQiOwppbXBvcnQgRGF0ZVBpY2tlciBmcm9tICd2dWUyLWRhdGVwaWNrZXInCmltcG9ydCAndnVlMi1kYXRlcGlja2VyL2luZGV4LmNzcycKaW1wb3J0ICd2dWUyLWRhdGVwaWNrZXIvbG9jYWxlL3B0LWJyJwovLyBpbXBvcnQgTXlkYXRlcGlja2VyIGZyb20gJy4uL2NvbXBvbmVudHMvTXlkYXRlcGlja2VyJwovLyBpbXBvcnQgbW9tZW50IGZyb20gIm1vbWVudCI7CgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAiRXN0b3F1ZSIsCiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgJ2RhdGVwaWNrZXItaW5pJzogRGF0ZVBpY2tlciwKICAgICAgICAnZGF0ZXBpY2tlci1maW0nOiBEYXRlUGlja2VyLAogICAgICAgICd2dWUtYXV0b3N1Z2dlc3QnOiBWdWVBdXRvc3VnZ2VzdAogICAgfSwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgY29kX21hcmNhOiAwLCAvL29seW1waWt1cyA9IDU2NwogICAgICAgICAgICAvLyBjb2RfbWFyY2E6ICc1NjcnLCAvL29seW1waWt1cyA9IDU2NwogICAgICAgICAgICBkYXRhX21vdnRvX2luaTogbmV3IERhdGUoJzIwMTktMDEtMDEgMDM6MDA6MDAuMDAwJyksCiAgICAgICAgICAgIC8vIGRhdGFfbW92dG9faW5pOiBuZXcgRGF0ZSgnMjAxOS0wMS0wMSAwMzowMDowMC4wMDAnKSwKICAgICAgICAgICAgZGF0YV9tb3Z0b19maW06IG5ldyBEYXRlLAogICAgICAgICAgICBkZWZhdWx0X2RhdGU6IG5ldyBEYXRlKCcxOTAwLTAxLTAxIDAxOjAwOjAwLjAwMCcpLAogICAgICAgICAgICAvLyBkZWZhdWx0X2RhdGU6IG5ldyBEYXRlKCcxOTAwLTAxLTAxIDAxOjAwOjAwLjAwMCcpLAogICAgICAgICAgICBmaWx0ZXI6IG51bGwsCiAgICAgICAgICAgIGZpbHRlcnM6IHtub21fbWFyY2E6ICcnLCBkYXRfY2FkYXN0cm86ICcnLCBkZXNfY29yOiAnJywgZGVzX3Byb2R1dG86ICcnfSwKICAgICAgICAgICAgZ3JhZGVzX3NlbGVjdGVkOiBbXSwKICAgICAgICAgICAgZ3JhZGVfZXN0b3F1ZV90b3RhaXM6IHt9LAogICAgICAgICAgICBncmFkZXNfb3B0aW9uczogWwogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICJuYW1lIjogJ0NhbMOnYWRvIEJlYsOqJywKICAgICAgICAgICAgICAgICAgICAiZ3JhZGUiOiBbe2tleTogJzEnLCBsYWJlbDogJzEnfSwKICAgICAgICAgICAgICAgICAgICAgICAge2tleTogJzInLCBsYWJlbDogJzInfSwKICAgICAgICAgICAgICAgICAgICAgICAge2tleTogJzMnLCBsYWJlbDogJzMnfSwKICAgICAgICAgICAgICAgICAgICAgICAge2tleTogJzQnLCBsYWJlbDogJzQnfV0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgIm5hbWUiOiAnUm91cGEgSW5mYW50aWwgUEktTUktR0knLAogICAgICAgICAgICAgICAgICAgICJncmFkZSI6IFsKICAgICAgICAgICAgICAgICAgICAgICAge2tleTogJ1BJJywgbGFiZWw6ICdQSSd9LAogICAgICAgICAgICAgICAgICAgICAgICB7a2V5OiAnTUknLCBsYWJlbDogJ01JJ30sCiAgICAgICAgICAgICAgICAgICAgICAgIHtrZXk6ICdHSScsIGxhYmVsOiAnR0knfV0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgIm5hbWUiOiAnQ2Fsw6dhZG8gSW5mYW50aWwnLAogICAgICAgICAgICAgICAgICAgICJncmFkZSI6IFsKICAgICAgICAgICAgICAgICAgICAgICAge2tleTogJzE1JywgbGFiZWw6ICcxNSd9LAogICAgICAgICAgICAgICAgICAgICAgICB7a2V5OiAnMTYnLCBsYWJlbDogJzE2J30sCiAgICAgICAgICAgICAgICAgICAgICAgIHtrZXk6ICcxNycsIGxhYmVsOiAnMTcnfSwKICAgICAgICAgICAgICAgICAgICAgICAge2tleTogJzE4JywgbGFiZWw6ICcxOCd9LAogICAgICAgICAgICAgICAgICAgICAgICB7a2V5OiAnMTknLCBsYWJlbDogJzE5J30sCiAgICAgICAgICAgICAgICAgICAgICAgIHtrZXk6ICcyMCcsIGxhYmVsOiAnMjAnfSwKICAgICAgICAgICAgICAgICAgICAgICAge2tleTogJzIxJywgbGFiZWw6ICcyMSd9LAogICAgICAgICAgICAgICAgICAgICAgICB7a2V5OiAnMjInLCBsYWJlbDogJzIyJ30sCiAgICAgICAgICAgICAgICAgICAgICAgIHtrZXk6ICcyMycsIGxhYmVsOiAnMjMnfSwKICAgICAgICAgICAgICAgICAgICAgICAge2tleTogJzI0JywgbGFiZWw6ICcyNCd9LAogICAgICAgICAgICAgICAgICAgICAgICB7a2V5OiAnMjUnLCBsYWJlbDogJzI1J30sCiAgICAgICAgICAgICAgICAgICAgICAgIHtrZXk6ICcyNicsIGxhYmVsOiAnMjYnfSwKICAgICAgICAgICAgICAgICAgICAgICAge2tleTogJzI3JywgbGFiZWw6ICcyNyd9LAogICAgICAgICAgICAgICAgICAgICAgICB7a2V5OiAnMjgnLCBsYWJlbDogJzI4J30sCiAgICAgICAgICAgICAgICAgICAgICAgIHtrZXk6ICcyOScsIGxhYmVsOiAnMjknfSwKICAgICAgICAgICAgICAgICAgICAgICAge2tleTogJzMwJywgbGFiZWw6ICczMCd9LAogICAgICAgICAgICAgICAgICAgICAgICB7a2V5OiAnMzEnLCBsYWJlbDogJzMxJ30sCiAgICAgICAgICAgICAgICAgICAgICAgIHtrZXk6ICczMicsIGxhYmVsOiAnMzInfSwKICAgICAgICAgICAgICAgICAgICAgICAge2tleTogJzMzJywgbGFiZWw6ICczMyd9LAogICAgICAgICAgICAgICAgICAgICAgICB7a2V5OiAnMzQnLCBsYWJlbDogJzM0J30sCiAgICAgICAgICAgICAgICAgICAgICAgIHtrZXk6ICczNScsIGxhYmVsOiAnMzUnfSwKICAgICAgICAgICAgICAgICAgICAgICAge2tleTogJzM2JywgbGFiZWw6ICczNid9XQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAibmFtZSI6ICdSb3VwYSBJbmZhbnRpbCA4LTE2JywKICAgICAgICAgICAgICAgICAgICAiZ3JhZGUiOiBbCiAgICAgICAgICAgICAgICAgICAgICAgIHtrZXk6ICc4JywgbGFiZWw6ICc4J30sCiAgICAgICAgICAgICAgICAgICAgICAgIHtrZXk6ICcxMCcsIGxhYmVsOiAnMTAnfSwKICAgICAgICAgICAgICAgICAgICAgICAge2tleTogJzEyJywgbGFiZWw6ICcxMid9LAogICAgICAgICAgICAgICAgICAgICAgICB7a2V5OiAnMTQnLCBsYWJlbDogJzE0J30sCiAgICAgICAgICAgICAgICAgICAgICAgIHtrZXk6ICcxNicsIGxhYmVsOiAnMTYnfV0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgIm5hbWUiOiAnQ2Fsw6dhZG8gSW5mYW50aWwgRHVwbG8nLAogICAgICAgICAgICAgICAgICAgICJncmFkZSI6IFt7a2V5OiAnMTcvMTgnLCBsYWJlbDogJzE3LzE4J30sCiAgICAgICAgICAgICAgICAgICAgICAgIHtrZXk6ICcxOS8yMCcsIGxhYmVsOiAnMTkvMjAnfSwKICAgICAgICAgICAgICAgICAgICAgICAge2tleTogJzIxLzIyJywgbGFiZWw6ICcyMS8yMid9LAogICAgICAgICAgICAgICAgICAgICAgICB7a2V5OiAnMjMvMjQnLCBsYWJlbDogJzIzLzI0J30sCiAgICAgICAgICAgICAgICAgICAgICAgIHtrZXk6ICcyNS8yNicsIGxhYmVsOiAnMjUvMjYnfSwKICAgICAgICAgICAgICAgICAgICAgICAge2tleTogJzI3LzI4JywgbGFiZWw6ICcyNy8yOCd9LAogICAgICAgICAgICAgICAgICAgICAgICB7a2V5OiAnMjkvMzAnLCBsYWJlbDogJzI5LzMwJ30sCiAgICAgICAgICAgICAgICAgICAgICAgIHtrZXk6ICczMS8zMicsIGxhYmVsOiAnMzEvMzInfSwKICAgICAgICAgICAgICAgICAgICAgICAge2tleTogJzMzLzM0JywgbGFiZWw6ICczMy8zNCd9LAogICAgICAgICAgICAgICAgICAgICAgICB7a2V5OiAnMzUvMzYnLCBsYWJlbDogJzM1LzM2J31dCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICJuYW1lIjogJ1JvdXBhIEFkdWx0byBQUCcsCiAgICAgICAgICAgICAgICAgICAgImdyYWRlIjogWwogICAgICAgICAgICAgICAgICAgICAgICB7a2V5OiAnUFAnLCBsYWJlbDogJ1BQJ30sCiAgICAgICAgICAgICAgICAgICAgICAgIHtrZXk6ICdFUCcsIGxhYmVsOiAnRVAnfSxdCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICJuYW1lIjogJ0NhbMOnYWRvIEFkdWx0bycsCiAgICAgICAgICAgICAgICAgICAgImdyYWRlIjogW3trZXk6ICczMycsIGxhYmVsOiAnMzMnfSwKICAgICAgICAgICAgICAgICAgICAgICAge2tleTogJzM0JywgbGFiZWw6ICczNCd9LAogICAgICAgICAgICAgICAgICAgICAgICB7a2V5OiAnMzUnLCBsYWJlbDogJzM1J30sCiAgICAgICAgICAgICAgICAgICAgICAgIHtrZXk6ICczNicsIGxhYmVsOiAnMzYnfSwKICAgICAgICAgICAgICAgICAgICAgICAge2tleTogJzM3JywgbGFiZWw6ICczNyd9LAogICAgICAgICAgICAgICAgICAgICAgICB7a2V5OiAnMzgnLCBsYWJlbDogJzM4J30sCiAgICAgICAgICAgICAgICAgICAgICAgIHtrZXk6ICczOScsIGxhYmVsOiAnMzknfSwKICAgICAgICAgICAgICAgICAgICAgICAge2tleTogJzQwJywgbGFiZWw6ICc0MCd9LAogICAgICAgICAgICAgICAgICAgICAgICB7a2V5OiAnNDEnLCBsYWJlbDogJzQxJ30sCiAgICAgICAgICAgICAgICAgICAgICAgIHtrZXk6ICc0MicsIGxhYmVsOiAnNDInfSwKICAgICAgICAgICAgICAgICAgICAgICAge2tleTogJzQzJywgbGFiZWw6ICc0Myd9LAogICAgICAgICAgICAgICAgICAgICAgICB7a2V5OiAnNDQnLCBsYWJlbDogJzQ0J31dCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICJuYW1lIjogJ1JvdXBhIEFkdWx0byAzNC01NicsCiAgICAgICAgICAgICAgICAgICAgImdyYWRlIjogWwogICAgICAgICAgICAgICAgICAgICAgICB7a2V5OiAnMzQnLCBsYWJlbDogJzM0J30sCiAgICAgICAgICAgICAgICAgICAgICAgIHtrZXk6ICczNicsIGxhYmVsOiAnMzYnfSwKICAgICAgICAgICAgICAgICAgICAgICAge2tleTogJzM4JywgbGFiZWw6ICczOCd9LAogICAgICAgICAgICAgICAgICAgICAgICB7a2V5OiAnNDAnLCBsYWJlbDogJzQwJ30sCiAgICAgICAgICAgICAgICAgICAgICAgIHtrZXk6ICc0MicsIGxhYmVsOiAnNDInfSwKICAgICAgICAgICAgICAgICAgICAgICAge2tleTogJzQ0JywgbGFiZWw6ICc0NCd9LAogICAgICAgICAgICAgICAgICAgICAgICB7a2V5OiAnNDYnLCBsYWJlbDogJzQ2J30sCiAgICAgICAgICAgICAgICAgICAgICAgIHtrZXk6ICc0OCcsIGxhYmVsOiAnNDgnfSwKICAgICAgICAgICAgICAgICAgICAgICAge2tleTogJzUwJywgbGFiZWw6ICc1MCd9LAogICAgICAgICAgICAgICAgICAgICAgICB7a2V5OiAnNTInLCBsYWJlbDogJzUyJ30sCiAgICAgICAgICAgICAgICAgICAgICAgIHtrZXk6ICc1NCcsIGxhYmVsOiAnNTQnfSwKICAgICAgICAgICAgICAgICAgICAgICAge2tleTogJzU2JywgbGFiZWw6ICc1Nid9LAogICAgICAgICAgICAgICAgICAgICAgICB7a2V5OiAnNTgnLCBsYWJlbDogJzU4J31dCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICJuYW1lIjogJ0NhbMOnYWRvIEFkdWx0byBEdXBsbycsCiAgICAgICAgICAgICAgICAgICAgImdyYWRlIjogWwogICAgICAgICAgICAgICAgICAgICAgICB7a2V5OiAnMzMvMzQnLCBsYWJlbDogJzMzLzM0J30sCiAgICAgICAgICAgICAgICAgICAgICAgIHtrZXk6ICczNS8zNicsIGxhYmVsOiAnMzUvMzYnfSwKICAgICAgICAgICAgICAgICAgICAgICAge2tleTogJzM3LzM4JywgbGFiZWw6ICczNy8zOCd9LAogICAgICAgICAgICAgICAgICAgICAgICB7a2V5OiAnMzkvNDAnLCBsYWJlbDogJzM5LzQwJ30sCiAgICAgICAgICAgICAgICAgICAgICAgIHtrZXk6ICc0MS80MicsIGxhYmVsOiAnNDEvNDInfSwKICAgICAgICAgICAgICAgICAgICAgICAge2tleTogJzQzLzQ0JywgbGFiZWw6ICc0My80NCd9LAogICAgICAgICAgICAgICAgICAgICAgICB7a2V5OiAnNDUvNDYnLCBsYWJlbDogJzQ1LzQ2J30sCiAgICAgICAgICAgICAgICAgICAgICAgIHtrZXk6ICc0Ny80OCcsIGxhYmVsOiAnNDcvNDgnfV0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgIm5hbWUiOiAnUm91cGEgQWR1bHRvIFAtTS1HLUdHJywKICAgICAgICAgICAgICAgICAgICAiZ3JhZGUiOiBbCiAgICAgICAgICAgICAgICAgICAgICAgIHtrZXk6ICdQJywgbGFiZWw6ICdQJ30sCiAgICAgICAgICAgICAgICAgICAgICAgIHtrZXk6ICdNJywgbGFiZWw6ICdNJ30sCiAgICAgICAgICAgICAgICAgICAgICAgIHtrZXk6ICdHJywgbGFiZWw6ICdHJ30sCiAgICAgICAgICAgICAgICAgICAgICAgIHtrZXk6ICdHRycsIGxhYmVsOiAnR0cnfV0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgIm5hbWUiOiAnQ2Fsw6dhZG8gQWR1bHRvIEJpZycsCiAgICAgICAgICAgICAgICAgICAgImdyYWRlIjogW3trZXk6ICc0NScsIGxhYmVsOiAnNDUnfSwKICAgICAgICAgICAgICAgICAgICAgICAge2tleTogJzQ2JywgbGFiZWw6ICc0Nid9LAogICAgICAgICAgICAgICAgICAgICAgICB7a2V5OiAnNDcnLCBsYWJlbDogJzQ3J30sCiAgICAgICAgICAgICAgICAgICAgICAgIHtrZXk6ICc0OCcsIGxhYmVsOiAnNDgnfV0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgIm5hbWUiOiAnUm91cGEgQWR1bHRvIFhHcycsCiAgICAgICAgICAgICAgICAgICAgImdyYWRlIjogWwogICAgICAgICAgICAgICAgICAgICAgICB7a2V5OiAnWEcnLCBsYWJlbDogJ1hHJ30sCiAgICAgICAgICAgICAgICAgICAgICAgIHtrZXk6ICdYMScsIGxhYmVsOiAnWDEnfSwKICAgICAgICAgICAgICAgICAgICAgICAge2tleTogJ1gyJywgbGFiZWw6ICdYMid9LAogICAgICAgICAgICAgICAgICAgICAgICB7a2V5OiAnWDMnLCBsYWJlbDogJ1gzJ30sCiAgICAgICAgICAgICAgICAgICAgICAgIHtrZXk6ICdHR0cnLCBsYWJlbDogJ0dHRyd9LAogICAgICAgICAgICAgICAgICAgICAgICB7a2V5OiAnRUcnLCBsYWJlbDogJ0VHJ30sCiAgICAgICAgICAgICAgICAgICAgICAgIHtrZXk6ICdFR0cnLCBsYWJlbDogJ0VHRyd9LAogICAgICAgICAgICAgICAgICAgICAgICB7a2V5OiAnRVhHRycsIGxhYmVsOiAnRVhHRyd9LAogICAgICAgICAgICAgICAgICAgICAgICB7a2V5OiAnRzEnLCBsYWJlbDogJ0cxJ30sCiAgICAgICAgICAgICAgICAgICAgICAgIHtrZXk6ICdHMicsIGxhYmVsOiAnRzInfSwKICAgICAgICAgICAgICAgICAgICAgICAge2tleTogJ0czJywgbGFiZWw6ICdHMyd9LAogICAgICAgICAgICAgICAgICAgICAgICB7a2V5OiAnRzQnLCBsYWJlbDogJ0c0J30sCiAgICAgICAgICAgICAgICAgICAgICAgIHtrZXk6ICcxRycsIGxhYmVsOiAnMUcnfSwKICAgICAgICAgICAgICAgICAgICAgICAge2tleTogJzJHJywgbGFiZWw6ICcyRyd9LAogICAgICAgICAgICAgICAgICAgICAgICB7a2V5OiAnM0cnLCBsYWJlbDogJzNHJ30sCiAgICAgICAgICAgICAgICAgICAgICAgIHtrZXk6ICc0RycsIGxhYmVsOiAnNEcnfV0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgIm5hbWUiOiAnQ2ludG8nLAogICAgICAgICAgICAgICAgICAgICJncmFkZSI6IFsKICAgICAgICAgICAgICAgICAgICAgICAge2tleTogJzkwJywgbGFiZWw6ICc5MCd9LAogICAgICAgICAgICAgICAgICAgICAgICB7a2V5OiAnOTUnLCBsYWJlbDogJzk1J30sCiAgICAgICAgICAgICAgICAgICAgICAgIHtrZXk6ICcxMDAnLCBsYWJlbDogJzEwMCd9LAogICAgICAgICAgICAgICAgICAgICAgICB7a2V5OiAnMTA1JywgbGFiZWw6ICcxMDUnfSwKICAgICAgICAgICAgICAgICAgICAgICAge2tleTogJzExMCcsIGxhYmVsOiAnMTEwJ30sCiAgICAgICAgICAgICAgICAgICAgICAgIHtrZXk6ICcxMTUnLCBsYWJlbDogJzExNSd9LAogICAgICAgICAgICAgICAgICAgICAgICB7a2V5OiAnMTIwJywgbGFiZWw6ICcxMjAnfV0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgIm5hbWUiOiAnSW1nIExpbmsnLAogICAgICAgICAgICAgICAgICAgICJncmFkZSI6IHtrZXk6ICdpbWdfbGluaycsIGxhYmVsOiAnSW1nIExpbmsnfQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgXSwKICAgICAgICAgICAgaXRlbXM6W10sCiAgICAgICAgICAgIG1hcHBlZF9pdGVtczogW10sCiAgICAgICAgICAgIG1hcmNhczoge30sCiAgICAgICAgICAgIHN1Z2dlc3Rpb25fc2VsZWN0ZWQ6IHsKICAgICAgICAgICAgICAgIGNvZF9tYXJjYTogMCwKICAgICAgICAgICAgICAgIGZvcm5lY2Vkb3JlczogW3tmYW5fZm9ybmVjZWRvcjogJyd9XSwKICAgICAgICAgICAgICAgIG5vbV9tYXJjYTogImNhcnJlZ2FuZG8iLAogICAgICAgICAgICB9LAogICAgICAgICAgICBzdWdnZXN0aW9uczogWwogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGRhdGE6IFsKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kX21hcmNhOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybmVjZWRvcmVzOiBbXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vbV9tYXJjYTogImNhcnJlZ2FuZG8gbWFyY2FzIiwKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgXSwKICAgICAgICAgICAgbWFyY2FzX3N1Z2dlc3Rpb25fcXVlcnk6ICIiCiAgICAgICAgfTsKICAgIH0sCiAgICBjb21wdXRlZDogewogICAgICAgIC8vIHNhbGRvRXN0b3F1ZSgpIHsKICAgICAgICAvLwogICAgICAgIC8vIH0sCiAgICAgICAgLy9UT0RPIG1heWJlIG9uZSBjYW4gc3BlZWQgY29kZSB1cCB3aXRoIHJlZHVjZSBpbnN0ZWFkIG9mIG1hcCtmaWx0ZXIKICAgICAgICBtYXBwZWRJdGVtc0NvbXB1dGVkKCkgewogICAgICAgICAgICBjb25zdCBtYXBwZWRfaXRlbXMgPSB0aGlzLml0ZW1zLm1hcCgoaXRlbSkgPT4gewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICAuLi5pdGVtLAogICAgICAgICAgICAgICAgICAgIGVzdG9xdWVfaGlzdG9yeTogaXRlbS5lc3RvcXVlX2hpc3RvcnkuZmlsdGVyKChtb3Z0bykgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGF0YV9hdXggPSAgbmV3IERhdGUobW92dG8uZGF0YV9tb3Z0bykKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFfYXV4ID4gdGhpcy5kYXRhX21vdnRvX2luaSAmJiBkYXRhX2F1eCA8IHRoaXMuZGF0YV9tb3Z0b19maW0pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZQogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIHJldHVybiBtYXBwZWRfaXRlbXMKICAgICAgICB9LAogICAgICAgIGZpbHRlcmVkSXRlbXNDb21wdXRlZCgpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyZWRJdGVtc0J5RGVzY3JpcHRpb24odGhpcy5pdGVtcykKICAgICAgICB9LAoKICAgICAgICBmaWx0ZXJlZG1hcHBlZEl0ZW1zQ29tcHV0ZWQoKSB7CiAgICAgICAgICAgIGNvbnN0IGZpbHRlcmVkID0gdGhpcy5pdGVtcy5maWx0ZXIoaXRlbSA9PiB7CiAgICAgICAgICAgIC8vIGNvbnN0IGZpbHRlcmVkID0gdGhpcy5tYXBwZWRJdGVtc0NvbXB1dGVkLmZpbHRlcihpdGVtID0+IHsKICAgICAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKGZpbHRlcmVkKQogICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuZmlsdGVycykuZXZlcnkoa2V5ID0+ewogICAgICAgICAgICAgICAgICAgIFN0cmluZyhpdGVtW2tleV0udG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpKS5pbmNsdWRlcyh0aGlzLmZpbHRlcnNba2V5XS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnZmlsdGVyZWQnKQogICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhmaWx0ZXJlZCkKICAgICAgICAgICAgcmV0dXJuIGZpbHRlcmVkCiAgICAgICAgICAgIC8vIHJldHVybiB0aGlzLml0ZW1zCiAgICAgICAgfSwKICAgICAgICBjb21wdXRlZEZpZWxkcygpIHsKICAgICAgICAgICAgLy8gcmV0dXJuIFtdLmNvbmNhdCh0aGlzLmJhc2VGaWVsZHMsIHRoaXMuYWR1bHRvRmllbGRzLCB0aGlzLnZhbG9yZXNGaWVsZHMpCiAgICAgICAgICAgIHJldHVybiBbXS5jb25jYXQodGhpcy5iYXNlRmllbGRzLCB0aGlzLmdyYWRlRmllbGRzLCB0aGlzLnZhbG9yZXNGaWVsZHMpCiAgICAgICAgICAgIC8vIHJldHVybiBbXS5jb25jYXQodGhpcy5iYXNlRmllbGRzLCB0aGlzLmdyYWRlRmllbGRzLCB0aGlzLnRvdGFpc0ZpZWxkcywgdGhpcy52YWxvcmVzRmllbGRzKQogICAgICAgIH0sCiAgICAgICAgZ3JhZGVGaWVsZHMoKSB7CiAgICAgICAgICAgIHZhciBncmFkZXMgPSB0aGlzLmdyYWRlc19zZWxlY3RlZC5tYXAoc2VsZWN0ZWQgPT4gewogICAgICAgICAgICAgICAgcmV0dXJuIHNlbGVjdGVkLmdyYWRlCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC8vIHJldHVybiBbXS5jb25jYXQoZ3JhZGVzLmZsYXQoMSkpIC8vbWFudGVyIHRvdGFpc0ZpZWxkcyBhcXVpIHBhcmEgcXVlIG9zIHRvdGFpcyBmaXF1ZW0gY29ycmV0b3MKICAgICAgICAgICAgcmV0dXJuIFtdLmNvbmNhdChncmFkZXMuZmxhdCgxKSwgdGhpcy50b3RhaXNGaWVsZHMpIC8vbWFudGVyIHRvdGFpc0ZpZWxkcyBhcXVpIHBhcmEgcXVlIG9zIHRvdGFpcyBmaXF1ZW0gY29ycmV0b3MKICAgICAgICAgICAgLy8gcmV0dXJuIFtdLmNvbmNhdCh0aGlzLmluZmFudG9GaWVsZHMsIHRoaXMuYWR1bHRvRmllbGRzLCB0aGlzLnRvdGFpc0ZpZWxkcykKICAgICAgICB9LAogICAgICAgIGJhc2VGaWVsZHMoKSB7CiAgICAgICAgICAgIHJldHVybiBbCiAgICAgICAgICAgICAgICB7a2V5OiAnc2VsZWN0ZWQnLCBsYWJlbDogJ1NlbC4nfSwKICAgICAgICAgICAgICAgIHtrZXk6ICdub21fbWFyY2EnLCBsYWJlbDogJ05vbS4gTWFyY2EnLCBzb3J0YWJsZTogdHJ1ZX0sCiAgICAgICAgICAgICAgICB7a2V5OiAnZGF0X2NhZGFzdHJvJywgbGFiZWw6ICdEYXRhIENhZC4nLCBzb3J0YWJsZTogdHJ1ZX0sCiAgICAgICAgICAgICAgICB7a2V5OiAnZGF0X3VsdGNvbXByYScsIGxhYmVsOiAnRGF0YSBVbHRDb21wcmEnLCBzb3J0YWJsZTogdHJ1ZX0sCiAgICAgICAgICAgICAgICB7a2V5OiAnY29kX3JlZmVyZW5jaWEnLCBsYWJlbDogJ1JlZi4nLCBzb3J0YWJsZTogdHJ1ZX0sCiAgICAgICAgICAgICAgICB7a2V5OiAnZGVzX2NvcicsIGxhYmVsOiAnQ29yJywgc29ydGFibGU6IHRydWV9LAogICAgICAgICAgICAgICAge2tleTogJ2ltZycsIGxhYmVsOiAnSW1nLid9LAogICAgICAgICAgICAgICAge2tleTogJ2ltZ19saW5rJywgbGFiZWw6ICdJbWcgTGluayd9LAogICAgICAgICAgICAgICAge2tleTogJ2Rlc19wcm9kdXRvJywgbGFiZWw6ICdEZXNjcmnDp8Ojby4nLCBzb3J0YWJsZTogdHJ1ZX0sCiAgICAgICAgICAgICAgICB7a2V5OiAnYWN0aW9ucycsIGxhYmVsOiAnKyd9CiAgICAgICAgICAgIF0KICAgICAgICB9LAogICAgICAgIHZhbG9yZXNGaWVsZHMoKSB7CiAgICAgICAgICAgIHJldHVybiBbCiAgICAgICAgICAgICAgICAvLyB7a2V5OiAndG90YWlzJywgbGFiZWw6ICdUb3QuJywgc29ydGFibGU6IHRydWV9LAogICAgICAgICAgICAgICAge2tleTogJ3Zscl9jdXN0b19icnV0bycsIGxhYmVsOiAnQ3VzdG8nLCBzb3J0YWJsZTogdHJ1ZX0sCiAgICAgICAgICAgICAgICB7a2V5OiAndmxyX3ZlbmRhMScsIGxhYmVsOiAnVmxyLiBWZW5kYScsIHNvcnRhYmxlOiB0cnVlfQogICAgICAgICAgICBdCiAgICAgICAgfSwKICAgICAgICB0b3RhaXNGaWVsZHMoKSB7CiAgICAgICAgICAgIHJldHVybiBbCiAgICAgICAgICAgICAgICB7a2V5OiAndG90YWlzJywgbGFiZWw6ICdUb3QuJywgc29ydGFibGU6IHRydWV9LAogICAgICAgICAgICAgICAge2tleTogJ3NhaWRhcycsIGxhYmVsOiAnU2HDrWRhcy4nLCBzb3J0YWJsZTogdHJ1ZX0KICAgICAgICAgICAgXQogICAgICAgIH0sCiAgICAgICAgZmlsdGVyZWRPcHRpb25zKCkgewogICAgICAgICAgICByZXR1cm4gWwogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIC8vIGRhdGE6IHRoaXMubWFyY2FzCiAgICAgICAgICAgICAgICAgICAgZGF0YTogdGhpcy5zdWdnZXN0aW9uc1swXS5kYXRhCiAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIob3B0aW9uID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJldHVybiAnYScKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb24ubm9tX21hcmNhLnRvTG93ZXJDYXNlKCkuaW5kZXhPZih0aGlzLm1hcmNhc19zdWdnZXN0aW9uX3F1ZXJ5LnRvTG93ZXJDYXNlKCkpID4gLTE7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoZmlsdGVyZWRfaXRlbXMgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWFwcGVkX2l0ZW1zID0gZmlsdGVyZWRfaXRlbXM7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWFwcGVkX2l0ZW1zOwogICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICBdOwogICAgICAgIH0KCiAgICAgICAgLy8gZ3JhZGVUb3RhbHMoKSB7CiAgICAgICAgLy8gICAgIGxldCBzdW0gPSB0aGlzLmZpbHRlcmVkSXRlbXNDb21wdXRlZC5yZWR1Y2UoZnVuY3Rpb24gKHN1bSwgaXRlbSkgewogICAgICAgIC8vICAgICBsZXQgaXRlbVZhbG9yID0gcGFyc2VGbG9hdChpdGVtLmdyYWRlX2VzdG9xdWVbMF0pCiAgICAgICAgLy8gICAgIGlmICghaXNOYU4oaXRlbVZhbG9yKSkgewogICAgICAgIC8vICAgICAgICAgcmV0dXJuIHN1bSArIGl0ZW1WYWxvcgogICAgICAgIC8vICAgICB9IGVsc2UgewogICAgICAgIC8vICAgICAgICAgcmV0dXJuIHN1bQogICAgICAgIC8vICAgICB9CiAgICAgICAgLy8gfSwgMCkKICAgICAgICAvLyByZXR1cm4gc3VtCiAgICAgICAgLy8gfQogICAgfSwKCiAgICBiZWZvcmVNb3VudCgpIHsKICAgICAgICB0aGlzLmxvYWRNYXJjYXMoKQogICAgICAgIC8vIHRoaXMuZ3JhZGVfZXN0b3F1ZV90b3RhaXM9IHsnMzMnOjB9CiAgICAgICAgLy8gdGhpcy51cGRhdGVFc3RvcXVlUHJvZHV0b3MoKQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBmaWx0ZXJlZEl0ZW1zQnlEZXNjcmlwdGlvbjpmdW5jdGlvbihpdGVtcyl7CiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGl0ZW1zKQogICAgICAgICAgICByZXR1cm4gaXRlbXMuZmlsdGVyKGl0ZW0gPT4gIWl0ZW0uZGVzX3Byb2R1dG8udG9Mb3dlckNhc2UoKS5pbmRleE9mKHRoaXMuZmlsdGVycy5kZXNfcHJvZHV0bykpCgogICAgICAgIC8vICAgIFRPRE8KICAgICAgICAvLyAgICBkZXNfY29yIGluIEZFUlJBQ0lOSSA9IG51bGwgc29tZXRpbWVzLCBmaW5kIGEgd2F5IHRvIGJ5cGFzcwogICAgICAgIC8vICAgIGNoYWluaW5nIGZpbHRlcnMgbGlrZSBiZWxvdyBtaWdodCB3b3JrCiAgICAgICAgLy8gICAgaHR0cHM6Ly81YmFsbG9vbnMuaW5mby9jb21iaW5pbmctbXVsdGlwbGUtZmlsdGVycy1vbi1saXN0LXVzaW5nLWNvbXB1dGVkLXByb3BlcnRpZXMtaW4tdnVlanMvCgogICAgICAgIH0sCiAgICAgICAgcmVjZWl2ZURhdGFNb3Z0b0luaSh2YWx1ZSkgewogICAgICAgICAgICB0aGlzLmRhdGFfbW92dG9faW5pID0gdmFsdWUKICAgICAgICB9LAogICAgICAgIHJlY2VpdmVEYXRhTW92dG9GaW0odmFsdWUpIHsKICAgICAgICAgICAgdGhpcy5kYXRhX21vdnRvX2ZpbSA9IHZhbHVlCiAgICAgICAgfSwKICAgICAgICBsb2FkTWFyY2FzKCkgewogICAgICAgICAgICBjb25zdCBwYXRoID0gYC9hcGkvcmVhZC9tYXJjYXMvYDsKICAgICAgICAgICAgLy8gY29uc3QgcGF0aCA9IGBodHRwOi8vbG9jYWxob3N0L2FwaS9yZWFkL21hcmNhcy9gOyAvL3RoaXMgd2F5IHdvcmtzCiAgICAgICAgICAgIGF4aW9zLmdldChwYXRoKQogICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdyZXNfbWFyY2FzJyk7CiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcmNhcyA9IHJlcy5kYXRhCiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdWdnZXN0aW9uc1swXS5kYXRhID0gcmVzLmRhdGEKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IucmVzcG9uc2UuZGF0YSk7IC8vID0+IHRoZSByZXNwb25zZSBwYXlsb2FkCiAgICAgICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgY2xpY2tIYW5kbGVyKGl0ZW0pIHsKICAgICAgICAgICAgY29uc29sZS5sb2coaXRlbSkKICAgICAgICAgICAgLy8gZXZlbnQgZmlyZWQgd2hlbiBjbGlja2luZyBvbiB0aGUgaW5wdXQKICAgICAgICB9LAogICAgICAgIG9uU2VsZWN0ZWQoaXRlbSkgewogICAgICAgICAgICB0aGlzLnN1Z2dlc3Rpb25fc2VsZWN0ZWQgPSBpdGVtLml0ZW07CiAgICAgICAgICAgIC8vIHRoaXMuZm9ybV9zZWxlY3RlZCA9IHRoaXMuYXZhaWxhYmxlRm9ybmVjZWRvcmVzCiAgICAgICAgfSwKICAgICAgICBvbklucHV0Q2hhbmdlKHRleHQpIHsKICAgICAgICAgICAgY29uc29sZS5sb2codGV4dCkKICAgICAgICB9LAogICAgICAgIC8qKgogICAgICAgICAqIFRoaXMgaXMgd2hhdCB0aGUgPGlucHV0Lz4gdmFsdWUgaXMgc2V0IHRvIHdoZW4geW91IGFyZSBzZWxlY3RpbmcgYSBzdWdnZXN0aW9uLgogICAgICAgICAqLwogICAgICAgIGdldFN1Z2dlc3Rpb25WYWx1ZShzdWdnZXN0aW9uKSB7CiAgICAgICAgICAgIHJldHVybiBzdWdnZXN0aW9uLml0ZW0ubm9tX21hcmNhOwogICAgICAgIH0sCiAgICAgICAgZm9jdXNNZShlKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpIC8vIEZvY3VzRXZlbnQKICAgICAgICB9LAogICAgICAgIGVzdG9xdWVIaXN0b3J5Qm91bmREYXRlcyhvYmplY3QpIHsKICAgICAgICAgICAgdmFyIGRhdGVfYXJyYXkgPSBPYmplY3Qua2V5cyhvYmplY3QpCiAgICAgICAgICAgIHZhciBkYXRlX2RpZmZfbWluID0gMDsKICAgICAgICAgICAgdmFyIGRhdGVfZGlmZl9tYXggPSAwOwogICAgICAgICAgICB2YXIgZXN0b3F1ZV9oaXN0b3J5X2JvdW5kX2RhdGVzID0gewogICAgICAgICAgICAgICAgJ2RhdGFfaW5pJzogdGhpcy5kZWZhdWx0X2RhdGUsCiAgICAgICAgICAgICAgICAnZGF0YV9maW0nOiB0aGlzLmRlZmF1bHRfZGF0ZQogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAodGhpcy5kYXRhX21vdnRvX2luaSA8IHRoaXMuZGF0YV9tb3Z0b19maW0pIHsKICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0ZV9hcnJheS5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgIGRhdGVfZGlmZl9taW4gPSBuZXcgRGF0ZShkYXRlX2FycmF5W2ldKSAtIHRoaXMuZGF0YV9tb3Z0b19pbmk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGVfZGlmZl9taW4gPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZXN0b3F1ZV9oaXN0b3J5X2JvdW5kX2RhdGVzLmRhdGFfaW5pID0gZGF0ZV9hcnJheVtpIC0gMV0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gZGF0ZV9hcnJheS5sZW5ndGg7IGkgPiAwOyBpLS0pIHsKICAgICAgICAgICAgICAgICAgICBkYXRlX2RpZmZfbWF4ID0gbmV3IERhdGUoZGF0ZV9hcnJheVtpXSkgLSB0aGlzLmRhdGFfbW92dG9fZmltOwogICAgICAgICAgICAgICAgICAgIGlmIChkYXRlX2RpZmZfbWF4IDwgMCkgewogICAgICAgICAgICAgICAgICAgICAgICBlc3RvcXVlX2hpc3RvcnlfYm91bmRfZGF0ZXMuZGF0YV9maW0gPSBkYXRlX2FycmF5W2ldOwogICAgICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIGVzdG9xdWVfaGlzdG9yeV9ib3VuZF9kYXRlcwogICAgICAgIH0sCiAgICAgICAgZ3JhZGVUb3RhbHMob2JqZWN0KSB7CiAgICAgICAgICAgIGxldCB0b3RhaXNfRSA9IE9iamVjdC5rZXlzKG9iamVjdCkucmVkdWNlKGZ1bmN0aW9uIChzdW0sIGtleSkgewogICAgICAgICAgICAgICAgcmV0dXJuIHN1bSArIChrZXkuc2xpY2UoLTEpID09ICdFJyAmJiBvYmplY3Rba2V5XSk7CiAgICAgICAgICAgIH0sIDApOwoKICAgICAgICAgICAgbGV0IHRvdGFpcyA9IE9iamVjdC5rZXlzKG9iamVjdCkucmVkdWNlKGZ1bmN0aW9uIChzdW0sIGtleSkgewogICAgICAgICAgICAgICAgcmV0dXJuIHN1bSArIChrZXkuc2xpY2UoLTEpICE9PSAnRScgJiYgb2JqZWN0W2tleV0pOwogICAgICAgICAgICB9LCAwKTsKICAgICAgICAgICAgcmV0dXJuIHsndG90YWlzX0UnOnRvdGFpc19FLCAndG90YWlzJzogdG90YWlzfQogICAgICAgIH0sCiAgICAgICAgZ3JhZGVFc3RvcXVlKG9iamVjdCkgewogICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhvYmplY3QpCiAgICAgICAgICAgIHZhciBncmFkZV9lc3RvcXVlID0gT2JqZWN0LnZhbHVlcyhvYmplY3QpCiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCJncmFkZV9lc3RvcXVlIikKICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZ3JhZGVfZXN0b3F1ZSkKICAgICAgICAgICAgLy8gY29uc29sZS5sb2coImdyYWRlX2VzdG9xdWVbZ3JhZGVfZXN0b3F1ZS5sZW5naHQgLSAxXSIpCiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGdyYWRlX2VzdG9xdWVbZ3JhZGVfZXN0b3F1ZS5sZW5naHQgLSAxXSkKICAgICAgICAgICAgcmV0dXJuIGdyYWRlX2VzdG9xdWVbZ3JhZGVfZXN0b3F1ZS5sZW5naHQgLSAxXQoKICAgICAgICB9LApub3JtYWxpemVTdHJpbmcocykgewogIHJldHVybiBgJHtzfWAudHJpbSgpLnRvTG93ZXJDYXNlKCk7Cn0sCmZpbHRlckZuKHJvdykgewogIHJldHVybiB0aGlzLmZpbHRlci5zcGxpdCgnLCcpCiAgICAubWFwKHRoaXMubm9ybWFsaXplU3RyaW5nKQogICAgLnNvbWUoCiAgICAgIHRlcm0gPT4gT2JqZWN0LnZhbHVlcyhyb3cpCiAgICAgICAgLm1hcCh0aGlzLm5vcm1hbGl6ZVN0cmluZykKICAgICAgICAuc29tZSgKICAgICAgICAgIHZhbCA9PiB2YWwuaW5kZXhPZih0ZXJtKSA+IC0xCiAgICAgICAgKQogICAgKTsKfSwKICAgICAgICBleHBhbmRBZGRpdGlvbmFsSW5mbyhyb3cpIHsKICAgICAgICAgICAgcm93Ll9zaG93RGV0YWlscyA9ICFyb3cuX3Nob3dEZXRhaWxzOwogICAgICAgIH0sCiAgICAgICAgcmVhZFByb2R1dG9zRnJvbU1vbmdvKCkgewogICAgICAgICAgICBjb25zdCBwYXRoID0gYC9hcGkvZXN0b3F1ZS9yZWFkX3Byb2R1dG9zX2Zyb21fbW9uZ29fZGIvJHt0aGlzLnN1Z2dlc3Rpb25fc2VsZWN0ZWQuY29kX21hcmNhfWAKICAgICAgICAgICAgLy8gY29uc3QgcGF0aCA9IGAvYXBpL2VzdG9xdWUvcmVhZF9wcm9kdXRvc19mcm9tX21vbmdvX2RiLyR7dGhpcy5jb2RfbWFyY2F9YAogICAgICAgICAgICBjb25zb2xlLmxvZyhwYXRoKQogICAgICAgICAgICBheGlvcy5nZXQocGF0aCkKICAgICAgICAgICAgICAgIC50aGVuKChwcm9kdXRvcykgPT4gewogICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCJwcm9kdXRvcyIpCiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocHJvZHV0b3MpCiAgICAgICAgICAgICAgICAgICAgdGhpcy5pdGVtcyA9IHByb2R1dG9zLmRhdGEKICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygidGhpcy5pdGVtcyIpCiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5pdGVtcykKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpCiAgICAgICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgdXBkYXRlRXN0b3F1ZVByb2R1dG9zKCkgewogICAgICAgICAgICAvLyB0aGlzLmRhdGFfbW92dG9faW5pID0gJzIwMDAtMDEtMDFUMTElM0ExOCUzQTI2Ljk4OTAwMCcKICAgICAgICAgICAgdGhpcy5kYXRhX21vdnRvX2luaSA9ICcyMDAwLTAxLTAxIDAxOjAxOjAxLjAwMDAwMCcKICAgICAgICAgICAgLy8gdGhpcy5kYXRhX21vdnRvX2luaSA9IG1vbWVudChuZXcgRGF0ZSkuZm9ybWF0KCdZWVlZLU1NLUREVEhIOm1tOnNzLlNTU1NTUycpCiAgICAgICAgICAgIHRoaXMuY29kX21hcmNhID0gJzU2NycKCiAgICAgICAgICAgIGNvbnN0IHBhdGggPSBgL2FwaS9lc3RvcXVlL3JlYWRfcHJvZHV0b3NfZnJvbV9wb3N0Z3Jlc19kYi8ke3RoaXMuY29kX21hcmNhfS8ke3RoaXMuZGF0YV9tb3Z0b19pbml9YAogICAgICAgICAgICBheGlvcy5nZXQocGF0aCkKICAgICAgICAgICAgICAgIC50aGVuKChwcm9kdXRvc19kYV9tYXJjYSkgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJwcm9kdXRvc19kYV9tYXJjYSIpCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocHJvZHV0b3NfZGFfbWFyY2EpCiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5pdGVtcyA9IHByb2R1dG9zX2RhX21hcmNhLmRhdGEKICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygidGhpcy5pdGVtcyIpCiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5pdGVtcykKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpCiAgICAgICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgZGF0ZVNvcnRlcihhLCBiLCBrZXkpIHsKCiAgICAgICAgICAgIGlmIChrZXkgPT09ICdkYXRfdWx0Y29tcHJhJyB8fCBrZXkgPT09ICdkYXRfY2FkYXN0cm8nfHwga2V5ID09PSAnZGF0YV9tb3Z0bycpIHsKICAgICAgICAgICAgICAgIGlmIChtb21lbnQoYVtrZXldLCAnREQvTU0vWVlZWScpLnRvRGF0ZSgpID4gbW9tZW50KGJba2V5XSwgJ0REL01NL1lZWVknKS50b0RhdGUoKSkgcmV0dXJuIDE7CiAgICAgICAgICAgICAgICBpZiAobW9tZW50KGFba2V5XSwgJ0REL01NL1lZWVknKS50b0RhdGUoKSA8IG1vbWVudChiW2tleV0sICdERC9NTS9ZWVlZJykudG9EYXRlKCkpIHJldHVybiAtMTsKICAgICAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlICAgICAgIC8vIElmIGZpZWxkIGlzIG5vdCBgZGF0ZWAgd2UgbGV0IGItdGFibGUgaGFuZGxlIHRoZSBzb3J0aW5nCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgfSwKICAgIHdhdGNoOiB7CiAgICB9Cn0K"},{"version":3,"sources":["Estoque.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Estoque.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div class=\"levantamento-row\">\r\n        <b-row>\r\n            <b-col sm=\"2\">\r\n\r\n                <b-form @submit.stop.prevent=\"updateEstoqueProdutos\">\r\n                    <b-button type=\"submit\" variant=\"primary\">Update Estoque Produtos</b-button>\r\n                </b-form>\r\n                <b/>\r\n                <b-form @submit.stop.prevent=\"readProdutosFromMongo\">\r\n                    <div class=\"autosuggest\">\r\n                            <b>Marca: </b>\r\n                            <vue-autosuggest\r\n                                    :get-suggestion-value=\"getSuggestionValue\"\r\n                                    :input-props=\"{id:'autosuggest__input', placeholder:'Digite a marca', class:'form-control'}\"\r\n                                    :suggestions=\"filteredOptions\" @click=\"clickHandler\" @focus=\"focusMe\"\r\n                                    @input=\"onInputChange\"\r\n                                    @selected=\"onSelected\"\r\n                                    v-model=\"marcas_suggestion_query\">\r\n                                <div class=\"autosuggest-container-results\" slot-scope=\"{suggestion}\"\r\n                                     style=\" align-items: center;\">\r\n                                    <div> {{suggestion.item.nom_marca}} ({{suggestion.item.cod_marca}})</div>\r\n                                </div>\r\n                            </vue-autosuggest>\r\n                        </div>\r\n\r\n                    <b-button type=\"submit\" variant=\"primary\">Read Produtos From Mongo</b-button>\r\n                </b-form>\r\n            </b-col>\r\n            <b-col sm=\"2\">\r\n                    <b-row>\r\n                        <label>Data Movto inicial: </label>\r\n                        <datepicker-ini v-model=\"data_movto_ini\" @change=\"receiveDataMovtoIni\"  placeholder=\"Selecione a data\"/>\r\n                        <br><br>\r\n                    </b-row>\r\n                    <b-row>\r\n                        <label>Data Movto final: </label>\r\n                        <datepicker-fim v-model=\"data_movto_fim\" @change=\"receiveDataMovtoFim\"  placeholder=\"Selecione a data\"/>\r\n                        <br><br>\r\n\r\n                    </b-row>\r\n                </b-col>\r\n            <b-col>\r\n                <div id=\"grades_check_box\">\r\n                        <b-row>\r\n                        <b-col :key=\"grade.name\" sm=\"6\" v-for=\"grade in grades_options\">\r\n\r\n                            <div class='form-check form-switch'>\r\n                                <div>\r\n                                    <input :value=\"grade\" class='form-check-input' type=\"checkbox\"\r\n                                           v-model=\"grades_selected\"/>\r\n                                    <label class='form-check-label'>{{grade.name}}</label>\r\n                                    <!--                        <br>-->\r\n                                </div>\r\n                            </div>\r\n\r\n                        </b-col>\r\n                    </b-row>\r\n                </div>\r\n            </b-col>\r\n        </b-row>\r\n        <b-row>\r\n            <b-input v-model=\"filter\" placeholder=\"Filtros OU separados por vírgulas\"></b-input>\r\n            <!--            <b-table :bordered=\"true\" :fields=\"computedFields\" :filter=\"filter\" :items=\"items\" :filter-function=\"filterFn\"-->\r\n<!--            <b-table :bordered=\"true\" :fields=\"computedFields\" :filter=\"filter\" :items=\"filteredItemsComputed\" :filter-function=\"filterFn\"-->\r\n            <b-table :bordered=\"true\" :fields=\"computedFields\" :filter=\"filter\" :items=\"filteredItemsComputed\" :filter-function=\"filterFn\"\r\n                 :small=true\r\n                 :sort-compare=\"dateSorter\" @row-clicked=\"expandAdditionalInfo\" class=\"text-right\" head-variant=\"light\" hover sticky-header=\"700px\"\r\n                 striped>\r\n\r\n            <template v-for=\"field in gradeFields\" v-slot:[`cell(${field.key})`]=\"{ item }\">\r\n                <div v-if=\"item.estoque_history[item.estoque_history.length-1]\"><!-- eslint-disable-line-->\r\n                    {{item.estoque_history[item.estoque_history.length-1].grade_estoque[field.key+\"_E\"]}}<br>\r\n                <b>{{item.estoque_history[item.estoque_history.length-1].grade_estoque[field.key]}}</b>\r\n<!--                    <div v-if=\"this.grade_estoque_totais[field.key+'_E']\">-->\r\n<!--                        {{this.grade_estoque_totais[field.key+\"_E\"] = this.grade_estoque_totais[field.key+\"_E\"] + item.estoque_history[item.estoque_history.length-1].grade_estoque[field.key+\"_E\"]}}-->\r\n<!--                    </div>-->\r\n<!--                    <div v-else>-->\r\n<!--                        {{this.grade_estoque_totais[field.key+\"_E\"] = item.estoque_history[item.estoque_history.length-1].grade_estoque[field.key+\"_E\"]}}-->\r\n<!--                    </div>-->\r\n<!--                    <div v-if=\"this.grade_estoque_totais[field.key]\">-->\r\n<!--                        {{this.grade_estoque_totais[field.key] = item.estoque_history[item.estoque_history.length-1].grade_estoque[field.key]}}-->\r\n<!--                    </div>-->\r\n<!--                    <div v-else>-->\r\n<!--                        {{this.grade_estoque_totais[field.key] = item.estoque_history[item.estoque_history.length-1].grade_estoque[field.key]}}-->\r\n<!--                    </div>-->\r\n                </div>\r\n            </template>\r\n\r\n\r\n                <template v-slot:cell(saidas)=\"data\">\r\n                    <div v-if=\"data.item.estoque_history[data.item.estoque_history.length-1]\">\r\n                    {{data.item.estoque_history[0].saidas - data.item.estoque_history[data.item.estoque_history.length-1].saidas}}\r\n                    </div>\r\n                </template>\r\n\r\n                <template v-slot:cell(totais)=\"data\">\r\n                    <div v-if=\"data.item.estoque_history[data.item.estoque_history.length-1]\">\r\n                        {{data.item.estoque_history[data.item.estoque_history.length-1].saldo_estoque_e - data.item.estoque_history[0].saldo_estoque_e}}<br>\r\n                     <b>{{data.item.estoque_history[data.item.estoque_history.length-1].saldo_estoque}}</b>\r\n                    </div>\r\n\r\n\r\n                </template>\r\n\r\n                <template scope=\"data\" slot=\"top-row\" ><!-- eslint-disable-line-->\r\n                <td :key=\"field.key\" v-for=\"field in [...baseFields,...gradeFields,...valoresFields]\">\r\n                    <template v-if=\"field.key==='nom_marca'||field.key==='dat_cadastro'||field.key==='dat_ultcompra'||field.key==='cod_referencia'||field.key==='des_cor'||field.key==='des_produto'||field.key==='vlr_custo_bruto'||field.key==='vlr_venda1'\">\r\n                        <b-form-input :placeholder=\"field.label\" class=\"col-sm\" v-model=\"filters[field.key]\"></b-form-input>\r\n                    </template>\r\n                    <template v-else>\r\n<!--                        {{this.grade_estoque_totais}}-->\r\n<!--                        <div v-if=\"this.grade_estoque_totais[field.key+'_E'] && this.grade_estoque_totais[field.key]\">-->\r\n<!--                            <b>{{this.grade_estoque_totais[field.key+\"_E\"]}}</b>-->\r\n<!--                            {{this.grade_estoque_totais[field.key]}}-->\r\n<!--                        </div>-->\r\n                    </template>\r\n                </td>\r\n                </template>\r\n\r\n\r\n            </b-table>\r\n        </b-row>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {VueAutosuggest} from 'vue-autosuggest'\r\n    import axios from \"axios\";\r\n    import moment from \"moment\";\r\n    import DatePicker from 'vue2-datepicker'\r\n    import 'vue2-datepicker/index.css'\r\n    import 'vue2-datepicker/locale/pt-br'\r\n    // import Mydatepicker from '../components/Mydatepicker'\r\n    // import moment from \"moment\";\r\n\r\n    export default {\r\n        name: \"Estoque\",\r\n        components: {\r\n            'datepicker-ini': DatePicker,\r\n            'datepicker-fim': DatePicker,\r\n            'vue-autosuggest': VueAutosuggest\r\n        },\r\n        data() {\r\n            return {\r\n                cod_marca: 0, //olympikus = 567\r\n                // cod_marca: '567', //olympikus = 567\r\n                data_movto_ini: new Date('2019-01-01 03:00:00.000'),\r\n                // data_movto_ini: new Date('2019-01-01 03:00:00.000'),\r\n                data_movto_fim: new Date,\r\n                default_date: new Date('1900-01-01 01:00:00.000'),\r\n                // default_date: new Date('1900-01-01 01:00:00.000'),\r\n                filter: null,\r\n                filters: {nom_marca: '', dat_cadastro: '', des_cor: '', des_produto: ''},\r\n                grades_selected: [],\r\n                grade_estoque_totais: {},\r\n                grades_options: [\r\n                    {\r\n                        \"name\": 'Calçado Bebê',\r\n                        \"grade\": [{key: '1', label: '1'},\r\n                            {key: '2', label: '2'},\r\n                            {key: '3', label: '3'},\r\n                            {key: '4', label: '4'}]\r\n                    },\r\n                    {\r\n                        \"name\": 'Roupa Infantil PI-MI-GI',\r\n                        \"grade\": [\r\n                            {key: 'PI', label: 'PI'},\r\n                            {key: 'MI', label: 'MI'},\r\n                            {key: 'GI', label: 'GI'}]\r\n                    },\r\n                    {\r\n                        \"name\": 'Calçado Infantil',\r\n                        \"grade\": [\r\n                            {key: '15', label: '15'},\r\n                            {key: '16', label: '16'},\r\n                            {key: '17', label: '17'},\r\n                            {key: '18', label: '18'},\r\n                            {key: '19', label: '19'},\r\n                            {key: '20', label: '20'},\r\n                            {key: '21', label: '21'},\r\n                            {key: '22', label: '22'},\r\n                            {key: '23', label: '23'},\r\n                            {key: '24', label: '24'},\r\n                            {key: '25', label: '25'},\r\n                            {key: '26', label: '26'},\r\n                            {key: '27', label: '27'},\r\n                            {key: '28', label: '28'},\r\n                            {key: '29', label: '29'},\r\n                            {key: '30', label: '30'},\r\n                            {key: '31', label: '31'},\r\n                            {key: '32', label: '32'},\r\n                            {key: '33', label: '33'},\r\n                            {key: '34', label: '34'},\r\n                            {key: '35', label: '35'},\r\n                            {key: '36', label: '36'}]\r\n                    },\r\n                    {\r\n                        \"name\": 'Roupa Infantil 8-16',\r\n                        \"grade\": [\r\n                            {key: '8', label: '8'},\r\n                            {key: '10', label: '10'},\r\n                            {key: '12', label: '12'},\r\n                            {key: '14', label: '14'},\r\n                            {key: '16', label: '16'}]\r\n                    },\r\n                    {\r\n                        \"name\": 'Calçado Infantil Duplo',\r\n                        \"grade\": [{key: '17/18', label: '17/18'},\r\n                            {key: '19/20', label: '19/20'},\r\n                            {key: '21/22', label: '21/22'},\r\n                            {key: '23/24', label: '23/24'},\r\n                            {key: '25/26', label: '25/26'},\r\n                            {key: '27/28', label: '27/28'},\r\n                            {key: '29/30', label: '29/30'},\r\n                            {key: '31/32', label: '31/32'},\r\n                            {key: '33/34', label: '33/34'},\r\n                            {key: '35/36', label: '35/36'}]\r\n                    },\r\n                    {\r\n                        \"name\": 'Roupa Adulto PP',\r\n                        \"grade\": [\r\n                            {key: 'PP', label: 'PP'},\r\n                            {key: 'EP', label: 'EP'},]\r\n                    },\r\n                    {\r\n                        \"name\": 'Calçado Adulto',\r\n                        \"grade\": [{key: '33', label: '33'},\r\n                            {key: '34', label: '34'},\r\n                            {key: '35', label: '35'},\r\n                            {key: '36', label: '36'},\r\n                            {key: '37', label: '37'},\r\n                            {key: '38', label: '38'},\r\n                            {key: '39', label: '39'},\r\n                            {key: '40', label: '40'},\r\n                            {key: '41', label: '41'},\r\n                            {key: '42', label: '42'},\r\n                            {key: '43', label: '43'},\r\n                            {key: '44', label: '44'}]\r\n                    },\r\n                    {\r\n                        \"name\": 'Roupa Adulto 34-56',\r\n                        \"grade\": [\r\n                            {key: '34', label: '34'},\r\n                            {key: '36', label: '36'},\r\n                            {key: '38', label: '38'},\r\n                            {key: '40', label: '40'},\r\n                            {key: '42', label: '42'},\r\n                            {key: '44', label: '44'},\r\n                            {key: '46', label: '46'},\r\n                            {key: '48', label: '48'},\r\n                            {key: '50', label: '50'},\r\n                            {key: '52', label: '52'},\r\n                            {key: '54', label: '54'},\r\n                            {key: '56', label: '56'},\r\n                            {key: '58', label: '58'}]\r\n                    },\r\n                    {\r\n                        \"name\": 'Calçado Adulto Duplo',\r\n                        \"grade\": [\r\n                            {key: '33/34', label: '33/34'},\r\n                            {key: '35/36', label: '35/36'},\r\n                            {key: '37/38', label: '37/38'},\r\n                            {key: '39/40', label: '39/40'},\r\n                            {key: '41/42', label: '41/42'},\r\n                            {key: '43/44', label: '43/44'},\r\n                            {key: '45/46', label: '45/46'},\r\n                            {key: '47/48', label: '47/48'}]\r\n                    },\r\n                    {\r\n                        \"name\": 'Roupa Adulto P-M-G-GG',\r\n                        \"grade\": [\r\n                            {key: 'P', label: 'P'},\r\n                            {key: 'M', label: 'M'},\r\n                            {key: 'G', label: 'G'},\r\n                            {key: 'GG', label: 'GG'}]\r\n                    },\r\n                    {\r\n                        \"name\": 'Calçado Adulto Big',\r\n                        \"grade\": [{key: '45', label: '45'},\r\n                            {key: '46', label: '46'},\r\n                            {key: '47', label: '47'},\r\n                            {key: '48', label: '48'}]\r\n                    },\r\n                    {\r\n                        \"name\": 'Roupa Adulto XGs',\r\n                        \"grade\": [\r\n                            {key: 'XG', label: 'XG'},\r\n                            {key: 'X1', label: 'X1'},\r\n                            {key: 'X2', label: 'X2'},\r\n                            {key: 'X3', label: 'X3'},\r\n                            {key: 'GGG', label: 'GGG'},\r\n                            {key: 'EG', label: 'EG'},\r\n                            {key: 'EGG', label: 'EGG'},\r\n                            {key: 'EXGG', label: 'EXGG'},\r\n                            {key: 'G1', label: 'G1'},\r\n                            {key: 'G2', label: 'G2'},\r\n                            {key: 'G3', label: 'G3'},\r\n                            {key: 'G4', label: 'G4'},\r\n                            {key: '1G', label: '1G'},\r\n                            {key: '2G', label: '2G'},\r\n                            {key: '3G', label: '3G'},\r\n                            {key: '4G', label: '4G'}]\r\n                    },\r\n                    {\r\n                        \"name\": 'Cinto',\r\n                        \"grade\": [\r\n                            {key: '90', label: '90'},\r\n                            {key: '95', label: '95'},\r\n                            {key: '100', label: '100'},\r\n                            {key: '105', label: '105'},\r\n                            {key: '110', label: '110'},\r\n                            {key: '115', label: '115'},\r\n                            {key: '120', label: '120'}]\r\n                    },\r\n                    {\r\n                        \"name\": 'Img Link',\r\n                        \"grade\": {key: 'img_link', label: 'Img Link'}\r\n                    },\r\n                ],\r\n                items:[],\r\n                mapped_items: [],\r\n                marcas: {},\r\n                suggestion_selected: {\r\n                    cod_marca: 0,\r\n                    fornecedores: [{fan_fornecedor: ''}],\r\n                    nom_marca: \"carregando\",\r\n                },\r\n                suggestions: [\r\n                    {\r\n                        data: [\r\n                            {\r\n                                cod_marca: 0,\r\n                                fornecedores: [],\r\n                                nom_marca: \"carregando marcas\",\r\n                            }\r\n                        ]\r\n                    }\r\n                ],\r\n                marcas_suggestion_query: \"\"\r\n            };\r\n        },\r\n        computed: {\r\n            // saldoEstoque() {\r\n            //\r\n            // },\r\n            //TODO maybe one can speed code up with reduce instead of map+filter\r\n            mappedItemsComputed() {\r\n                const mapped_items = this.items.map((item) => {\r\n                    return {\r\n                        ...item,\r\n                        estoque_history: item.estoque_history.filter((movto) => {\r\n                            let data_aux =  new Date(movto.data_movto)\r\n                            if (data_aux > this.data_movto_ini && data_aux < this.data_movto_fim)\r\n                                return true\r\n                        })\r\n                    }\r\n                })\r\n                return mapped_items\r\n            },\r\n            filteredItemsComputed() {\r\n                return this.filteredItemsByDescription(this.items)\r\n            },\r\n\r\n            filteredmappedItemsComputed() {\r\n                const filtered = this.items.filter(item => {\r\n                // const filtered = this.mappedItemsComputed.filter(item => {\r\n                //     console.log(filtered)\r\n                    return Object.keys(this.filters).every(key =>{\r\n                        String(item[key].toString().toLowerCase()).includes(this.filters[key].toString().toLowerCase())\r\n                    }\r\n                    )\r\n                });\r\n                // console.log('filtered')\r\n                // console.log(filtered)\r\n                return filtered\r\n                // return this.items\r\n            },\r\n            computedFields() {\r\n                // return [].concat(this.baseFields, this.adultoFields, this.valoresFields)\r\n                return [].concat(this.baseFields, this.gradeFields, this.valoresFields)\r\n                // return [].concat(this.baseFields, this.gradeFields, this.totaisFields, this.valoresFields)\r\n            },\r\n            gradeFields() {\r\n                var grades = this.grades_selected.map(selected => {\r\n                    return selected.grade\r\n                })\r\n                // return [].concat(grades.flat(1)) //manter totaisFields aqui para que os totais fiquem corretos\r\n                return [].concat(grades.flat(1), this.totaisFields) //manter totaisFields aqui para que os totais fiquem corretos\r\n                // return [].concat(this.infantoFields, this.adultoFields, this.totaisFields)\r\n            },\r\n            baseFields() {\r\n                return [\r\n                    {key: 'selected', label: 'Sel.'},\r\n                    {key: 'nom_marca', label: 'Nom. Marca', sortable: true},\r\n                    {key: 'dat_cadastro', label: 'Data Cad.', sortable: true},\r\n                    {key: 'dat_ultcompra', label: 'Data UltCompra', sortable: true},\r\n                    {key: 'cod_referencia', label: 'Ref.', sortable: true},\r\n                    {key: 'des_cor', label: 'Cor', sortable: true},\r\n                    {key: 'img', label: 'Img.'},\r\n                    {key: 'img_link', label: 'Img Link'},\r\n                    {key: 'des_produto', label: 'Descrição.', sortable: true},\r\n                    {key: 'actions', label: '+'}\r\n                ]\r\n            },\r\n            valoresFields() {\r\n                return [\r\n                    // {key: 'totais', label: 'Tot.', sortable: true},\r\n                    {key: 'vlr_custo_bruto', label: 'Custo', sortable: true},\r\n                    {key: 'vlr_venda1', label: 'Vlr. Venda', sortable: true}\r\n                ]\r\n            },\r\n            totaisFields() {\r\n                return [\r\n                    {key: 'totais', label: 'Tot.', sortable: true},\r\n                    {key: 'saidas', label: 'Saídas.', sortable: true}\r\n                ]\r\n            },\r\n            filteredOptions() {\r\n                return [\r\n                    {\r\n                        // data: this.marcas\r\n                        data: this.suggestions[0].data\r\n                            .filter(option => {\r\n                                // return 'a'\r\n                                return option.nom_marca.toLowerCase().indexOf(this.marcas_suggestion_query.toLowerCase()) > -1;\r\n                            })\r\n                            .map(filtered_items => {\r\n                                const mapped_items = filtered_items;\r\n                                return mapped_items;\r\n                            })\r\n                    }\r\n                ];\r\n            }\r\n\r\n            // gradeTotals() {\r\n            //     let sum = this.filteredItemsComputed.reduce(function (sum, item) {\r\n            //     let itemValor = parseFloat(item.grade_estoque[0])\r\n            //     if (!isNaN(itemValor)) {\r\n            //         return sum + itemValor\r\n            //     } else {\r\n            //         return sum\r\n            //     }\r\n            // }, 0)\r\n            // return sum\r\n            // }\r\n        },\r\n\r\n        beforeMount() {\r\n            this.loadMarcas()\r\n            // this.grade_estoque_totais= {'33':0}\r\n            // this.updateEstoqueProdutos()\r\n        },\r\n        methods: {\r\n            filteredItemsByDescription:function(items){\r\n                // console.log(items)\r\n                return items.filter(item => !item.des_produto.toLowerCase().indexOf(this.filters.des_produto))\r\n\r\n            //    TODO\r\n            //    des_cor in FERRACINI = null sometimes, find a way to bypass\r\n            //    chaining filters like below might work\r\n            //    https://5balloons.info/combining-multiple-filters-on-list-using-computed-properties-in-vuejs/\r\n\r\n            },\r\n            receiveDataMovtoIni(value) {\r\n                this.data_movto_ini = value\r\n            },\r\n            receiveDataMovtoFim(value) {\r\n                this.data_movto_fim = value\r\n            },\r\n            loadMarcas() {\r\n                const path = `/api/read/marcas/`;\r\n                // const path = `http://localhost/api/read/marcas/`; //this way works\r\n                axios.get(path)\r\n                    .then((res) => {\r\n                        // console.log('res_marcas');\r\n                        // console.log(res);\r\n                        this.marcas = res.data\r\n                        this.suggestions[0].data = res.data\r\n                    })\r\n                    .catch((error) => {\r\n                        console.log(error)\r\n                        console.log(error.response.data); // => the response payload\r\n                    })\r\n            },\r\n            clickHandler(item) {\r\n                console.log(item)\r\n                // event fired when clicking on the input\r\n            },\r\n            onSelected(item) {\r\n                this.suggestion_selected = item.item;\r\n                // this.form_selected = this.availableFornecedores\r\n            },\r\n            onInputChange(text) {\r\n                console.log(text)\r\n            },\r\n            /**\r\n             * This is what the <input/> value is set to when you are selecting a suggestion.\r\n             */\r\n            getSuggestionValue(suggestion) {\r\n                return suggestion.item.nom_marca;\r\n            },\r\n            focusMe(e) {\r\n                console.log(e) // FocusEvent\r\n            },\r\n            estoqueHistoryBoundDates(object) {\r\n                var date_array = Object.keys(object)\r\n                var date_diff_min = 0;\r\n                var date_diff_max = 0;\r\n                var estoque_history_bound_dates = {\r\n                    'data_ini': this.default_date,\r\n                    'data_fim': this.default_date\r\n                }\r\n\r\n                if (this.data_movto_ini < this.data_movto_fim) {\r\n                    for (let i = 0; i < date_array.length; i++) {\r\n                        date_diff_min = new Date(date_array[i]) - this.data_movto_ini;\r\n                        if (date_diff_min > 0) {\r\n                            if (i > 0) {\r\n                                estoque_history_bound_dates.data_ini = date_array[i - 1]\r\n                            }\r\n                            break\r\n                        }\r\n                    }\r\n\r\n                    for (let i = date_array.length; i > 0; i--) {\r\n                        date_diff_max = new Date(date_array[i]) - this.data_movto_fim;\r\n                        if (date_diff_max < 0) {\r\n                            estoque_history_bound_dates.data_fim = date_array[i];\r\n                            break\r\n                        }\r\n                    }\r\n                }\r\n\r\n                return estoque_history_bound_dates\r\n            },\r\n            gradeTotals(object) {\r\n                let totais_E = Object.keys(object).reduce(function (sum, key) {\r\n                    return sum + (key.slice(-1) == 'E' && object[key]);\r\n                }, 0);\r\n\r\n                let totais = Object.keys(object).reduce(function (sum, key) {\r\n                    return sum + (key.slice(-1) !== 'E' && object[key]);\r\n                }, 0);\r\n                return {'totais_E':totais_E, 'totais': totais}\r\n            },\r\n            gradeEstoque(object) {\r\n                // console.log(object)\r\n                var grade_estoque = Object.values(object)\r\n                // console.log(\"grade_estoque\")\r\n                // console.log(grade_estoque)\r\n                // console.log(\"grade_estoque[grade_estoque.lenght - 1]\")\r\n                // console.log(grade_estoque[grade_estoque.lenght - 1])\r\n                return grade_estoque[grade_estoque.lenght - 1]\r\n\r\n            },\r\n    normalizeString(s) {\r\n      return `${s}`.trim().toLowerCase();\r\n    },\r\n    filterFn(row) {\r\n      return this.filter.split(',')\r\n        .map(this.normalizeString)\r\n        .some(\r\n          term => Object.values(row)\r\n            .map(this.normalizeString)\r\n            .some(\r\n              val => val.indexOf(term) > -1\r\n            )\r\n        );\r\n    },\r\n            expandAdditionalInfo(row) {\r\n                row._showDetails = !row._showDetails;\r\n            },\r\n            readProdutosFromMongo() {\r\n                const path = `/api/estoque/read_produtos_from_mongo_db/${this.suggestion_selected.cod_marca}`\r\n                // const path = `/api/estoque/read_produtos_from_mongo_db/${this.cod_marca}`\r\n                console.log(path)\r\n                axios.get(path)\r\n                    .then((produtos) => {\r\n                        // console.log(\"produtos\")\r\n                        // console.log(produtos)\r\n                        this.items = produtos.data\r\n                        // console.log(\"this.items\")\r\n                        // console.log(this.items)\r\n                    })\r\n                    .catch((error) => {\r\n                        console.log(error)\r\n                    })\r\n            },\r\n            updateEstoqueProdutos() {\r\n                // this.data_movto_ini = '2000-01-01T11%3A18%3A26.989000'\r\n                this.data_movto_ini = '2000-01-01 01:01:01.000000'\r\n                // this.data_movto_ini = moment(new Date).format('YYYY-MM-DDTHH:mm:ss.SSSSSS')\r\n                this.cod_marca = '567'\r\n\r\n                const path = `/api/estoque/read_produtos_from_postgres_db/${this.cod_marca}/${this.data_movto_ini}`\r\n                axios.get(path)\r\n                    .then((produtos_da_marca) => {\r\n                        console.log(\"produtos_da_marca\")\r\n                        console.log(produtos_da_marca)\r\n                        // this.items = produtos_da_marca.data\r\n                        // console.log(\"this.items\")\r\n                        // console.log(this.items)\r\n                    })\r\n                    .catch((error) => {\r\n                        console.log(error)\r\n                    })\r\n            },\r\n            dateSorter(a, b, key) {\r\n\r\n                if (key === 'dat_ultcompra' || key === 'dat_cadastro'|| key === 'data_movto') {\r\n                    if (moment(a[key], 'DD/MM/YYYY').toDate() > moment(b[key], 'DD/MM/YYYY').toDate()) return 1;\r\n                    if (moment(a[key], 'DD/MM/YYYY').toDate() < moment(b[key], 'DD/MM/YYYY').toDate()) return -1;\r\n                    return 0;\r\n                } else {\r\n                    return false       // If field is not `date` we let b-table handle the sorting\r\n                }\r\n            },\r\n        },\r\n        watch: {\r\n        }\r\n    }\r\n</script>\r\n\r\n\r\n<style>\r\n    /*<style scoped>*/\r\n    .autosuggest-container {\r\n        position: absolute;\r\n        display: flex;\r\n        justify-content: center;\r\n        width: 280px;\r\n\r\n    }\r\n\r\n    .autosuggest__results {\r\n        z-index: 1000;\r\n        position: absolute;\r\n        display: flex;\r\n        /*justify-content: center;*/\r\n        /*width: 280px;*/\r\n        background-color: #fff;\r\n        background-clip: padding-box;\r\n        border: 1px solid rgba(0, 0, 0, .15);\r\n        border-radius: .25rem;\r\n\r\n    }\r\n\r\n\r\n</style>"]}]}