{"remainingRequest":"C:\\Users\\gabri\\PycharmProjects\\kapiva_gestao_fastapi_vuejs\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\gabri\\PycharmProjects\\kapiva_gestao_fastapi_vuejs\\frontend\\src\\components\\ComissaoTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\gabri\\PycharmProjects\\kapiva_gestao_fastapi_vuejs\\frontend\\src\\components\\ComissaoTable.vue","mtime":1607893097906},{"path":"C:\\Users\\gabri\\PycharmProjects\\kapiva_gestao_fastapi_vuejs\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\gabri\\PycharmProjects\\kapiva_gestao_fastapi_vuejs\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\gabri\\PycharmProjects\\kapiva_gestao_fastapi_vuejs\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\gabri\\PycharmProjects\\kapiva_gestao_fastapi_vuejs\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0NvbWlzc2FvVGFibGUnLAogIGRhdGEgKCkgewogICAgcmV0dXJuIHsKICAgICAgc29ydEJ5OiAnYmFzZV9jYWxjX2NvbWlzc2FvJywKICAgICAgc29ydERlc2M6IHRydWUsCiAgICAgIGZpZWxkczogWwogICAgICAgIHtrZXk6ICdwb3MnLCBsYWJlbDogJ1Bvcy4nfSwKICAgICAgICB7a2V5OiAnY29kX3ZlbmRlZG9yJywgbGFiZWw6ICdDb2QuIFZlbmRlZG9yJ30sCiAgICAgICAge2tleTogJ25vbV92ZW5kZWRvcicsIGxhYmVsOiAnTm9tLiBWZW5kZWRvcid9LAogICAgICAgIHtrZXk6ICdiYXNlX2NhbGNfY29taXNzYW8nLCBsYWJlbDogJ0Jhc2UgQ2FsYy4nfSwKICAgICAgICB7a2V5OiAnY3JlZF9kZXYnLCBsYWJlbDogJ0NyZWQuIERldi4nfSwKICAgICAgICB7a2V5OiAndmxyX2NvbWlzc2FvJywgbGFiZWw6ICdWbHIuIENvbS4nfSwKICAgICAgICB7a2V5OiAnZGF0X2VtaXNzYW9fZmltJywgbGFiZWw6ICdEYXRhJ31dLAogICAgICBpdGVtczogW10sCiAgICAgIHN1bV9jb21pc3NhbzogMAogICAgfQogIH0sCiAgYmVmb3JlTW91bnQgKCkgewogICAgdGhpcy5sb2FkQ29taXNzYW8oKQogIH0sCiAgbW91bnRlZCAoKSB7CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2FkQ29taXNzYW8gKCkgewogICAgICBjb25zdCBwYXRoID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9hcGkvY29taXNzYW8vc2VsZWN0JwogICAgICBheGlvcy5nZXQocGF0aCkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YSkKICAgICAgICAgIGNvbnN0IHBheWxvYWRMZW5ndGggPSByZXMuZGF0YS5sZW5ndGgKICAgICAgICAgIGNvbnNvbGUubG9nKHBheWxvYWRMZW5ndGgpCiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBheWxvYWRMZW5ndGg7IGkrKykgewogICAgICAgICAgICB2YXIgbmV3Q29taXNzYW8gPSB7CiAgICAgICAgICAgICAgY29kX3ZlbmRlZG9yOiByZXMuZGF0YVtpXS5jb2RfdmVuZGVkb3IsCiAgICAgICAgICAgICAgbm9tX3ZlbmRlZG9yOiByZXMuZGF0YVtpXS5ub21fdmVuZGVkb3IsCiAgICAgICAgICAgICAgYmFzZV9jYWxjX2NvbWlzc2FvOiB0aGlzLiRvcHRpb25zLmZpbHRlcnMubnVtZXJvKHJlcy5kYXRhW2ldLmJhc2VfY2FsY19jb21pc3NhbyksCiAgICAgICAgICAgICAgY3JlZF9kZXY6IHRoaXMuJG9wdGlvbnMuZmlsdGVycy5udW1lcm8ocmVzLmRhdGFbaV0uY3JlZF9kZXYpLAogICAgICAgICAgICAgIHZscl9jb21pc3NhbzogdGhpcy4kb3B0aW9ucy5maWx0ZXJzLm51bWVybyhyZXMuZGF0YVtpXS52bHJfY29taXNzYW8pLAogICAgICAgICAgICAgIGRhdF9lbWlzc2FvX2luaTogbW9tZW50KHJlcy5kYXRhW2ldLmRhdF9lbWlzc2FvX2luaSkuZm9ybWF0KCdERC9NTS9ZWVlZJyksCiAgICAgICAgICAgICAgZGF0X2VtaXNzYW9fZmltOiBtb21lbnQocmVzLmRhdGFbaV0uZGF0X2VtaXNzYW9fZmltKS5mb3JtYXQoJ0REL01NL1lZWVknKSwKICAgICAgICAgICAgICBwb3M6ICcnCiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5zdW1fY29taXNzYW8gPSB0aGlzLnN1bV9jb21pc3NhbyArIHJlcy5kYXRhW2ldLmJhc2VfY2FsY19jb21pc3NhbwogICAgICAgICAgICB0aGlzLml0ZW1zLnB1c2gobmV3Q29taXNzYW8pCiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUKICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAgICAgfSkKICAgIH0KICB9Cn0KCg=="},{"version":3,"sources":["ComissaoTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAgBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ComissaoTable.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"comissao-table\">\n    <div>\n      <b-table striped hover :items=\"items\" :fields=\"fields\" class=\"text-right\">\n        <template v-slot:cell(pos)=\"data\">\n          {{ data.index + 1 }}\n        </template>\n      </b-table>\n      <b-alert show dismissible variant=\"secondary\">\n        <div class=\"text-center\">Total de Vendas: <strong> {{ sum_comissao | dinheiro }}</strong></div>\n      </b-alert>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport moment from 'moment'\n\nexport default {\n  name: 'ComissaoTable',\n  data () {\n    return {\n      sortBy: 'base_calc_comissao',\n      sortDesc: true,\n      fields: [\n        {key: 'pos', label: 'Pos.'},\n        {key: 'cod_vendedor', label: 'Cod. Vendedor'},\n        {key: 'nom_vendedor', label: 'Nom. Vendedor'},\n        {key: 'base_calc_comissao', label: 'Base Calc.'},\n        {key: 'cred_dev', label: 'Cred. Dev.'},\n        {key: 'vlr_comissao', label: 'Vlr. Com.'},\n        {key: 'dat_emissao_fim', label: 'Data'}],\n      items: [],\n      sum_comissao: 0\n    }\n  },\n  beforeMount () {\n    this.loadComissao()\n  },\n  mounted () {\n  },\n  methods: {\n    loadComissao () {\n      const path = 'http://localhost:5000/api/comissao/select'\n      axios.get(path)\n        .then((res) => {\n          console.log(res.data)\n          const payloadLength = res.data.length\n          console.log(payloadLength)\n          for (let i = 0; i < payloadLength; i++) {\n            var newComissao = {\n              cod_vendedor: res.data[i].cod_vendedor,\n              nom_vendedor: res.data[i].nom_vendedor,\n              base_calc_comissao: this.$options.filters.numero(res.data[i].base_calc_comissao),\n              cred_dev: this.$options.filters.numero(res.data[i].cred_dev),\n              vlr_comissao: this.$options.filters.numero(res.data[i].vlr_comissao),\n              dat_emissao_ini: moment(res.data[i].dat_emissao_ini).format('DD/MM/YYYY'),\n              dat_emissao_fim: moment(res.data[i].dat_emissao_fim).format('DD/MM/YYYY'),\n              pos: ''\n            }\n            this.sum_comissao = this.sum_comissao + res.data[i].base_calc_comissao\n            this.items.push(newComissao)\n          }\n        })\n        .catch((error) => {\n          // eslint-disable-next-line\n            console.error(error);\n        })\n    }\n  }\n}\n\n</script>\n\n<style scoped>\n\n</style>\n"]}]}