{"remainingRequest":"C:\\Users\\gabri\\PycharmProjects\\kapiva_gestao_fastapi_vuejs\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\gabri\\PycharmProjects\\kapiva_gestao_fastapi_vuejs\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\gabri\\PycharmProjects\\kapiva_gestao_fastapi_vuejs\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\gabri\\PycharmProjects\\kapiva_gestao_fastapi_vuejs\\frontend\\src\\components\\ComissaoTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\gabri\\PycharmProjects\\kapiva_gestao_fastapi_vuejs\\frontend\\src\\components\\ComissaoTable.vue","mtime":1608259538870},{"path":"C:\\Users\\gabri\\PycharmProjects\\kapiva_gestao_fastapi_vuejs\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\gabri\\PycharmProjects\\kapiva_gestao_fastapi_vuejs\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\gabri\\PycharmProjects\\kapiva_gestao_fastapi_vuejs\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\gabri\\PycharmProjects\\kapiva_gestao_fastapi_vuejs\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0NvbWlzc2FvVGFibGUnLAogIHByb3BzOiBbJ2RhdGFfaW5pJywgJ2RhdGFfZmltJywgJ2RhZG9zX2NvbWlzc2FvJ10sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNvcnRCeTogJ2Jhc2VfY2FsY19jb21pc3NhbycsCiAgICAgIHNvcnREZXNjOiB0cnVlLAogICAgICBmaWVsZHM6IFt7CiAgICAgICAga2V5OiAncG9zJywKICAgICAgICBsYWJlbDogJ1Bvcy4nCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICdjb2RfdmVuZGVkb3InLAogICAgICAgIGxhYmVsOiAnQ29kLiBWZW5kZWRvcicKICAgICAgfSwgewogICAgICAgIGtleTogJ25vbV92ZW5kZWRvcicsCiAgICAgICAgbGFiZWw6ICdOb20uIFZlbmRlZG9yJwogICAgICB9LCB7CiAgICAgICAga2V5OiAnYmFzZV9jYWxjX2NvbWlzc2FvJywKICAgICAgICBsYWJlbDogJ0Jhc2UgQ2FsYy4nCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICdjcmVkX2RldicsCiAgICAgICAgbGFiZWw6ICdDcmVkLiBEZXYuJwogICAgICB9LCB7CiAgICAgICAga2V5OiAndmxyX2NvbWlzc2FvJywKICAgICAgICBsYWJlbDogJ1Zsci4gQ29tLicKICAgICAgfSwgewogICAgICAgIGtleTogJ2RhdF9lbWlzc2FvX2ZpbScsCiAgICAgICAgbGFiZWw6ICdEYXRhJwogICAgICB9XSwKICAgICAgaXRlbXM6IFtdLAogICAgICBzdW1fY29taXNzYW86IDAsCiAgICAgIHBlcmNlbnRfY29taXNzYW86IDAuMDEKICAgIH07CiAgfSwKICBiZWZvcmVNb3VudDogZnVuY3Rpb24gYmVmb3JlTW91bnQoKSB7CiAgICB0aGlzLmxvYWRDb21pc3NhbygpOyAvLyB0aGlzLmNvbWlzc2FvID0gdGhpcy5kYWRvc19jb21pc3NhbwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuZGFkb3NfY29taXNzYW8pCiAgICBjb25zb2xlLmxvZyh0aGlzLml0ZW1zKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGxvYWRDb21pc3NhbzogZnVuY3Rpb24gbG9hZENvbWlzc2FvKCkgewogICAgICAvLyB0aGlzLml0ZW1zID0gdGhpcy5kYWRvc19jb21pc3NhbwogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmRhZG9zX2NvbWlzc2FvKQogICAgICB2YXIgcGF0aCA9ICcvYXBpL2NvbWlzc2FvL3NlbGVjdCc7IC8vIGNvbnN0IHBhdGggPSAnaHR0cDovL2xvY2FsaG9zdDo1MDAwL2FwaS9jb21pc3Nhby9zZWxlY3QnCgogICAgICBjb25zb2xlLmxvZyh0aGlzLmRhZG9zX2NvbWlzc2FvLmxlbmd0aCk7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZGFkb3NfY29taXNzYW8ubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgY29taXNzYW9fdmVuZGVkb3IgPSB7CiAgICAgICAgICBjb2RfdmVuZGVkb3I6IHRoaXMuZGFkb3NfY29taXNzYW9baV1bMF0sCiAgICAgICAgICBub21fdmVuZGVkb3I6IHRoaXMuZGFkb3NfY29taXNzYW9baV1bMV0sCiAgICAgICAgICBiYXNlX2NhbGNfY29taXNzYW86IHRoaXMuZGFkb3NfY29taXNzYW9baV1bMl0sCiAgICAgICAgICBjcmVkX2RldjogdGhpcy5kYWRvc19jb21pc3Nhb1tpXVszXSwKICAgICAgICAgIHZscl9jb21pc3NhbzogdGhpcy4kb3B0aW9ucy5maWx0ZXJzLm51bWVybyh0aGlzLmRhZG9zX2NvbWlzc2FvW2ldWzJdICogdGhpcy5wZXJjZW50X2NvbWlzc2FvKSwKICAgICAgICAgIGRhdF9lbWlzc2FvX2ZpbTogbW9tZW50KHRoaXMuZGF0YV9pbmkpLmZvcm1hdCgnREQvTU0vWVlZWScpCiAgICAgICAgfTsKICAgICAgICB0aGlzLnN1bV9jb21pc3NhbyA9IHRoaXMuc3VtX2NvbWlzc2FvICsgdGhpcy5kYWRvc19jb21pc3Nhb1tpXVsyXTsKICAgICAgICB0aGlzLml0ZW1zLnB1c2goY29taXNzYW9fdmVuZGVkb3IpOwogICAgICB9CgogICAgICB2YXIgcGF5bG9hZCA9IHsKICAgICAgICBkYXRhX2luaTogdGhpcy5kYXRhX2luaSwKICAgICAgICBkYXRhX2ZpbTogdGhpcy5kYXRhX2ZpbQogICAgICB9OwogICAgICBheGlvcy5wb3N0KHBhdGgsIHBheWxvYWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsgLy8gY29uc3QgcGF5bG9hZExlbmd0aCA9IHJlcy5kYXRhLmxlbmd0aAogICAgICAgIC8vIGNvbnNvbGUubG9nKHBheWxvYWRMZW5ndGgpCiAgICAgICAgLy8gZm9yIChsZXQgaSA9IDA7IGkgPCBwYXlsb2FkTGVuZ3RoOyBpKyspIHsKICAgICAgICAvLyAgIHZhciBuZXdDb21pc3NhbyA9IHsKICAgICAgICAvLyAgICAgY29kX3ZlbmRlZG9yOiByZXMuZGF0YVtpXS5jb2RfdmVuZGVkb3IsCiAgICAgICAgLy8gICAgIG5vbV92ZW5kZWRvcjogcmVzLmRhdGFbaV0ubm9tX3ZlbmRlZG9yLAogICAgICAgIC8vICAgICBiYXNlX2NhbGNfY29taXNzYW86IHRoaXMuJG9wdGlvbnMuZmlsdGVycy5udW1lcm8ocmVzLmRhdGFbaV0uYmFzZV9jYWxjX2NvbWlzc2FvKSwKICAgICAgICAvLyAgICAgY3JlZF9kZXY6IHRoaXMuJG9wdGlvbnMuZmlsdGVycy5udW1lcm8ocmVzLmRhdGFbaV0uY3JlZF9kZXYpLAogICAgICAgIC8vICAgICB2bHJfY29taXNzYW86IHRoaXMuJG9wdGlvbnMuZmlsdGVycy5udW1lcm8ocmVzLmRhdGFbaV0udmxyX2NvbWlzc2FvKSwKICAgICAgICAvLyAgICAgZGF0X2VtaXNzYW9faW5pOiBtb21lbnQocmVzLmRhdGFbaV0uZGF0X2VtaXNzYW9faW5pKS5mb3JtYXQoJ0REL01NL1lZWVknKSwKICAgICAgICAvLyAgICAgZGF0X2VtaXNzYW9fZmltOiBtb21lbnQocmVzLmRhdGFbaV0uZGF0X2VtaXNzYW9fZmltKS5mb3JtYXQoJ0REL01NL1lZWVknKSwKICAgICAgICAvLyAgICAgcG9zOiAnJwogICAgICAgIC8vICAgfQogICAgICAgIC8vICAgdGhpcy5zdW1fY29taXNzYW8gPSB0aGlzLnN1bV9jb21pc3NhbyArIHJlcy5kYXRhW2ldLmJhc2VfY2FsY19jb21pc3NhbwogICAgICAgIC8vICAgdGhpcy5pdGVtcy5wdXNoKG5ld0NvbWlzc2FvKQogICAgICAgIC8vIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lCiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["ComissaoTable.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"comissao-table\">\n    <div>\n      <b-table striped hover :items=\"items\" :fields=\"fields\" class=\"text-right\">\n        <template v-slot:cell(pos)=\"data\">\n          {{ data.index + 1 }}\n        </template>\n      </b-table>\n\n<!--        <table class=\"table table-hover\">-->\n<!--            <tbody>-->\n<!--            <tr v-for=\"comissao in dados_comissao\" :key=\"comissao.id\">-->\n<!--                <td>{{comissao}}</td>-->\n<!--            </tr>-->\n<!--            </tbody>-->\n<!--        </table>-->\n      <b-alert show dismissible variant=\"secondary\">\n        <div class=\"text-center\">Total de Vendas: <strong> {{ sum_comissao | dinheiro }}</strong></div>\n<!--        <div class=\"text-center\">Total de Vendas: <strong> {{ sum_comissao }}</strong></div>-->\n      </b-alert>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport moment from 'moment'\n\nexport default {\n    name: 'ComissaoTable',\n    props: ['data_ini', 'data_fim', 'dados_comissao'],\n    data () {\n    return {\n      sortBy: 'base_calc_comissao',\n      sortDesc: true,\n      fields: [\n        {key: 'pos', label: 'Pos.'},\n        {key: 'cod_vendedor', label: 'Cod. Vendedor'},\n        {key: 'nom_vendedor', label: 'Nom. Vendedor'},\n        {key: 'base_calc_comissao', label: 'Base Calc.'},\n        {key: 'cred_dev', label: 'Cred. Dev.'},\n        {key: 'vlr_comissao', label: 'Vlr. Com.'},\n        {key: 'dat_emissao_fim', label: 'Data'}],\n      items: [],\n      sum_comissao: 0,\n      percent_comissao: 0.01\n    }\n  },\n  beforeMount () {\n    this.loadComissao()\n      // this.comissao = this.dados_comissao\n  },\n  mounted () {\n        // console.log(this.dados_comissao)\n        console.log(this.items)\n  },\n  methods: {\n    loadComissao () {\n        // this.items = this.dados_comissao\n        // console.log(this.dados_comissao)\n      const path = '/api/comissao/select'\n      // const path = 'http://localhost:5000/api/comissao/select'\n\n        console.log(this.dados_comissao.length)\n        for (let i = 0; i < this.dados_comissao.length; i++) {\n            var comissao_vendedor = {\n               cod_vendedor: this.dados_comissao[i][0],\n               nom_vendedor: this.dados_comissao[i][1],\n               base_calc_comissao: this.dados_comissao[i][2],\n               cred_dev: this.dados_comissao[i][3],\n               vlr_comissao:  this.$options.filters.numero(this.dados_comissao[i][2]*this.percent_comissao),\n               dat_emissao_fim: moment(this.data_ini).format('DD/MM/YYYY')\n            }\n            this.sum_comissao = this.sum_comissao + this.dados_comissao[i][2]\n        this.items.push(comissao_vendedor)\n        }\n\n\n        const payload = {\n        data_ini: this.data_ini,\n        data_fim: this.data_fim\n      }\n      axios.post(path, payload)\n        .then((res) => {\n          console.log(res.data)\n          // const payloadLength = res.data.length\n          // console.log(payloadLength)\n          // for (let i = 0; i < payloadLength; i++) {\n          //   var newComissao = {\n          //     cod_vendedor: res.data[i].cod_vendedor,\n          //     nom_vendedor: res.data[i].nom_vendedor,\n          //     base_calc_comissao: this.$options.filters.numero(res.data[i].base_calc_comissao),\n          //     cred_dev: this.$options.filters.numero(res.data[i].cred_dev),\n          //     vlr_comissao: this.$options.filters.numero(res.data[i].vlr_comissao),\n          //     dat_emissao_ini: moment(res.data[i].dat_emissao_ini).format('DD/MM/YYYY'),\n          //     dat_emissao_fim: moment(res.data[i].dat_emissao_fim).format('DD/MM/YYYY'),\n          //     pos: ''\n          //   }\n          //   this.sum_comissao = this.sum_comissao + res.data[i].base_calc_comissao\n          //   this.items.push(newComissao)\n          // }\n        })\n        .catch((error) => {\n          // eslint-disable-next-line\n            console.error(error);\n        })\n    }\n  }\n}\n\n</script>\n\n<style scoped>\n\n</style>\n"],"sourceRoot":"src/components"}]}